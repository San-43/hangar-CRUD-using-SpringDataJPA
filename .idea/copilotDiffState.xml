<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/repository/ReporteRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/repository/ReporteRepository.java" />
              <option name="originalContent" value="package com.example.hangar.repository;&#10;&#10;import com.example.hangar.model.Reporte;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;&#10;public interface ReporteRepository extends JpaRepository&lt;Reporte, Long&gt; {&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.hangar.repository;&#10;&#10;import com.example.hangar.model.Reporte;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.data.jpa.repository.Query;&#10;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;public interface ReporteRepository extends JpaRepository&lt;Reporte, Long&gt; {&#10;    &#10;    @Query(&quot;SELECT r FROM Reporte r LEFT JOIN FETCH r.taller LEFT JOIN FETCH r.nave&quot;)&#10;    List&lt;Reporte&gt; findAllWithRelations();&#10;    &#10;    @Query(&quot;SELECT r FROM Reporte r LEFT JOIN FETCH r.taller LEFT JOIN FETCH r.nave WHERE r.id = :id&quot;)&#10;    Optional&lt;Reporte&gt; findByIdWithRelations(Long id);&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/service/ModeloServiceImpl.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/service/ModeloServiceImpl.java" />
              <option name="originalContent" value="package com.example.hangar.service;&#10;&#10;import com.example.hangar.model.Modelo;&#10;import com.example.hangar.repository.ModeloRepository;&#10;import jakarta.persistence.EntityNotFoundException;&#10;import org.springframework.stereotype.Service;&#10;import org.springframework.transaction.annotation.Transactional;&#10;&#10;import java.util.List;&#10;&#10;@Service&#10;@Transactional&#10;public class ModeloServiceImpl implements ModeloService {&#10;&#10;    private final ModeloRepository repository;&#10;&#10;    public ModeloServiceImpl(ModeloRepository repository) {&#10;        this.repository = repository;&#10;    }&#10;&#10;    @Override&#10;    @Transactional(readOnly = true)&#10;    public List&lt;Modelo&gt; findAll() {&#10;        return repository.findAll();&#10;    }&#10;&#10;    @Override&#10;    @Transactional(readOnly = true)&#10;    public Modelo findById(Long id) {&#10;        return repository.findById(id)&#10;                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Modelo &quot; + id + &quot; no existe&quot;));&#10;    }&#10;&#10;    @Override&#10;    public Modelo save(Modelo entity) {&#10;        return repository.save(entity);&#10;    }&#10;&#10;    @Override&#10;    public void delete(Long id) {&#10;        Modelo existing = findById(id);&#10;        repository.delete(existing);&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.hangar.service;&#13;&#10;&#13;&#10;import com.example.hangar.model.Modelo;&#13;&#10;import com.example.hangar.repository.ModeloRepository;&#13;&#10;import jakarta.persistence.EntityNotFoundException;&#13;&#10;import org.springframework.stereotype.Service;&#13;&#10;import org.springframework.transaction.annotation.Transactional;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;@Service&#13;&#10;@Transactional&#13;&#10;public class ModeloServiceImpl implements ModeloService {&#13;&#10;&#13;&#10;    private final ModeloRepository repository;&#13;&#10;&#13;&#10;    public ModeloServiceImpl(ModeloRepository repository) {&#13;&#10;        this.repository = repository;&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#10;    @Transactional(readOnly = true)&#10;    public List&lt;Modelo&gt; findAll() {&#10;        List&lt;Modelo&gt; modelos = repository.findAll();&#10;        modelos.forEach(this::initializeAssociations);&#10;        return modelos;&#10;    }&#10;&#10;    @Override&#10;    @Transactional(readOnly = true)&#10;    public Modelo findById(Long id) {&#10;        Modelo modelo = repository.findById(id)&#10;                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Modelo &quot; + id + &quot; no existe&quot;));&#10;        initializeAssociations(modelo);&#10;        return modelo;&#10;    }&#10;&#10;    @Override&#10;    public Modelo save(Modelo entity) {&#10;        return repository.save(entity);&#10;    }&#10;&#10;    @Override&#10;    public void delete(Long id) {&#10;        Modelo existing = findById(id);&#10;        repository.delete(existing);&#10;    }&#10;&#10;    private void initializeAssociations(Modelo modelo) {&#10;        if (modelo == null) {&#10;            return;&#10;        }&#10;        modelo.getNaves().size();&#10;    }&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/service/ReporteServiceImpl.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/service/ReporteServiceImpl.java" />
              <option name="originalContent" value="package com.example.hangar.service;&#10;&#10;import com.example.hangar.model.Reporte;&#10;import com.example.hangar.repository.ReporteRepository;&#10;import jakarta.persistence.EntityNotFoundException;&#10;import org.springframework.stereotype.Service;&#10;import org.springframework.transaction.annotation.Transactional;&#10;&#10;import java.util.List;&#10;&#10;@Service&#10;@Transactional&#10;public class ReporteServiceImpl implements ReporteService {&#10;&#10;    private final ReporteRepository repository;&#10;&#10;    public ReporteServiceImpl(ReporteRepository repository) {&#10;        this.repository = repository;&#10;    }&#10;&#10;    @Override&#10;    @Transactional(readOnly = true)&#10;    public List&lt;Reporte&gt; findAll() {&#10;        return repository.findAll();&#10;    }&#10;&#10;    @Override&#10;    @Transactional(readOnly = true)&#10;    public Reporte findById(Long id) {&#10;        return repository.findById(id)&#10;                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Reporte &quot; + id + &quot; no existe&quot;));&#10;    }&#10;&#10;    @Override&#10;    public Reporte save(Reporte entity) {&#10;        return repository.save(entity);&#10;    }&#10;&#10;    @Override&#10;    public void delete(Long id) {&#10;        Reporte existing = findById(id);&#10;        repository.delete(existing);&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.hangar.service;&#13;&#10;&#13;&#10;import com.example.hangar.model.Reporte;&#13;&#10;import com.example.hangar.repository.ReporteRepository;&#13;&#10;import jakarta.persistence.EntityNotFoundException;&#13;&#10;import org.springframework.stereotype.Service;&#13;&#10;import org.springframework.transaction.annotation.Transactional;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;@Service&#13;&#10;@Transactional&#13;&#10;public class ReporteServiceImpl implements ReporteService {&#13;&#10;&#13;&#10;    private final ReporteRepository repository;&#13;&#10;&#13;&#10;    public ReporteServiceImpl(ReporteRepository repository) {&#13;&#10;        this.repository = repository;&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#10;    @Transactional(readOnly = true)&#10;    public List&lt;Reporte&gt; findAll() {&#10;        return repository.findAllWithRelations();&#10;    }&#10;&#10;    @Override&#10;    @Transactional(readOnly = true)&#10;    public Reporte findById(Long id) {&#10;        return repository.findByIdWithRelations(id)&#10;                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Reporte &quot; + id + &quot; no existe&quot;));&#10;    }&#13;&#10;&#13;&#10;    @Override&#13;&#10;    public Reporte save(Reporte entity) {&#13;&#10;        return repository.save(entity);&#13;&#10;    }&#13;&#10;&#13;&#10;    @Override&#13;&#10;    public void delete(Long id) {&#13;&#10;        Reporte existing = findById(id);&#13;&#10;        repository.delete(existing);&#13;&#10;    }&#13;&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/HangarController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/HangarController.java" />
              <option name="originalContent" value="package com.example.hangar.ui.controller;&#10;&#10;import com.example.hangar.model.Empresa;&#10;import com.example.hangar.model.Hangar;&#10;import com.example.hangar.service.EmpresaService;&#10;import com.example.hangar.service.HangarService;&#10;import javafx.beans.property.SimpleIntegerProperty;&#10;import javafx.beans.property.SimpleStringProperty;&#10;import javafx.collections.FXCollections;&#10;import javafx.collections.ObservableList;&#10;import javafx.collections.transformation.FilteredList;&#10;import javafx.fxml.FXML;&#10;import javafx.scene.control.Alert;&#10;import javafx.scene.control.ComboBox;&#10;import javafx.scene.control.ListCell;&#10;import javafx.scene.control.TableColumn;&#10;import javafx.scene.control.TableView;&#10;import javafx.scene.control.TextField;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#10;import org.springframework.stereotype.Component;&#10;&#10;@Component&#10;public class HangarController {&#10;&#10;    private final HangarService hangarService;&#10;    private final EmpresaService empresaService;&#10;&#10;    private final ObservableList&lt;Hangar&gt; hangares = FXCollections.observableArrayList();&#10;    private final FilteredList&lt;Hangar&gt; filteredHangares = new FilteredList&lt;&gt;(hangares, hangar -&gt; true);&#10;    private final ObservableList&lt;Empresa&gt; empresas = FXCollections.observableArrayList();&#10;&#10;    public HangarController(HangarService hangarService, EmpresaService empresaService) {&#10;        this.hangarService = hangarService;&#10;        this.empresaService = empresaService;&#10;    }&#10;&#10;    @FXML&#10;    private TableView&lt;Hangar&gt; hangarTable;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Hangar, Long&gt; idColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Hangar, String&gt; codigoColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Hangar, Number&gt; capacidadColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Hangar, String&gt; ubicacionColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Hangar, String&gt; empresaColumn;&#10;&#10;    @FXML&#10;    private TextField codigoField;&#10;&#10;    @FXML&#10;    private TextField capacidadField;&#10;&#10;    @FXML&#10;    private TextField ubicacionField;&#10;&#10;    @FXML&#10;    private ComboBox&lt;Empresa&gt; empresaCombo;&#10;&#10;    @FXML&#10;    private TextField searchField;&#10;&#10;    @FXML&#10;    public void initialize() {&#10;        if (hangarTable == null) {&#10;            return;&#10;        }&#10;        idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#10;        codigoColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;codigo&quot;));&#10;        capacidadColumn.setCellValueFactory(cellData -&gt; new SimpleIntegerProperty(&#10;                cellData.getValue().getCapacidad() != null ? cellData.getValue().getCapacidad() : 0));&#10;        ubicacionColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;ubicacion&quot;));&#10;        empresaColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(&#10;                cellData.getValue().getEmpresa() != null ? cellData.getValue().getEmpresa().getNombre() : &quot;&quot;));&#10;&#10;        populateEmpresas();&#10;        refreshTable();&#10;        hangarTable.setItems(filteredHangares);&#10;        hangarTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#10;    }&#10;&#10;    @FXML&#10;    private void onGuardar() {&#10;        if (!isFormValid()) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;,&#10;                    &quot;Código, capacidad (numérica) y empresa son obligatorios.&quot;);&#10;            return;&#10;        }&#10;        Hangar selected = hangarTable.getSelectionModel().getSelectedItem();&#10;        Hangar hangar = selected != null ? hangarService.findById(selected.getId()) : new Hangar();&#10;        hangar.setCodigo(codigoField.getText().trim());&#10;        hangar.setCapacidad(Integer.parseInt(capacidadField.getText().trim()));&#10;        hangar.setUbicacion(ubicacionField.getText() != null ? ubicacionField.getText().trim() : null);&#10;        hangar.setEmpresa(empresaCombo.getValue());&#10;        hangarService.save(hangar);&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Hangar guardado&quot;, &quot;El hangar se guardó correctamente.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onEliminar() {&#10;        Hangar selected = hangarTable.getSelectionModel().getSelectedItem();&#10;        if (selected == null) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;,&#10;                    &quot;Debe seleccionar un hangar para eliminarlo.&quot;);&#10;            return;&#10;        }&#10;        hangarService.delete(selected.getId());&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Hangar eliminado&quot;, &quot;El hangar fue eliminado correctamente.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onLimpiar() {&#10;        if (hangarTable != null) {&#10;            hangarTable.getSelectionModel().clearSelection();&#10;        }&#10;        clearForm();&#10;    }&#10;&#10;    @FXML&#10;    private void onBuscar() {&#10;        if (searchField == null) {&#10;            return;&#10;        }&#10;        String term = searchField.getText();&#10;        if (term == null || term.isBlank()) {&#10;            filteredHangares.setPredicate(h -&gt; true);&#10;            return;&#10;        }&#10;        String normalized = term.trim().toLowerCase();&#10;        Integer numericTerm = null;&#10;        try {&#10;            numericTerm = Integer.parseInt(term.trim());&#10;        } catch (NumberFormatException ignored) {&#10;        }&#10;        Integer finalNumericTerm = numericTerm;&#10;        filteredHangares.setPredicate(hangar -&gt; {&#10;            if (hangar == null) {&#10;                return false;&#10;            }&#10;            boolean matchesCodigo = hangar.getCodigo() != null &amp;&amp; hangar.getCodigo().toLowerCase().contains(normalized);&#10;            boolean matchesUbicacion = hangar.getUbicacion() != null &amp;&amp; hangar.getUbicacion().toLowerCase().contains(normalized);&#10;            boolean matchesCapacidad = finalNumericTerm != null &amp;&amp; hangar.getCapacidad() != null&#10;                    &amp;&amp; hangar.getCapacidad().equals(finalNumericTerm);&#10;            boolean matchesEmpresa = hangar.getEmpresa() != null &amp;&amp; hangar.getEmpresa().getNombre() != null&#10;                    &amp;&amp; hangar.getEmpresa().getNombre().toLowerCase().contains(normalized);&#10;            return matchesCodigo || matchesUbicacion || matchesCapacidad || matchesEmpresa;&#10;        });&#10;    }&#10;&#10;    private void populateEmpresas() {&#10;        empresas.setAll(empresaService.findAll());&#10;        if (empresaCombo == null) {&#10;            return;&#10;        }&#10;        empresaCombo.setItems(empresas);&#10;        empresaCombo.setCellFactory(cb -&gt; new ListCell&lt;&gt;() {&#10;            @Override&#10;            protected void updateItem(Empresa item, boolean empty) {&#10;                super.updateItem(item, empty);&#10;                setText(empty || item == null ? &quot;&quot; : item.getNombre());&#10;            }&#10;        });&#10;        empresaCombo.setButtonCell(new ListCell&lt;&gt;() {&#10;            @Override&#10;            protected void updateItem(Empresa item, boolean empty) {&#10;                super.updateItem(item, empty);&#10;                setText(empty || item == null ? &quot;&quot; : item.getNombre());&#10;            }&#10;        });&#10;    }&#10;&#10;    private boolean isFormValid() {&#10;        if (codigoField == null || codigoField.getText().isBlank()) {&#10;            return false;&#10;        }&#10;        if (capacidadField == null || capacidadField.getText().isBlank()) {&#10;            return false;&#10;        }&#10;        try {&#10;            Integer.parseInt(capacidadField.getText().trim());&#10;        } catch (NumberFormatException ex) {&#10;            return false;&#10;        }&#10;        return empresaCombo != null &amp;&amp; empresaCombo.getValue() != null;&#10;    }&#10;&#10;    private void refreshTable() {&#10;        hangares.setAll(hangarService.findAll());&#10;        if (hangarTable != null) {&#10;            hangarTable.refresh();&#10;        }&#10;        onBuscar();&#10;    }&#10;&#10;    private void fillForm(Hangar hangar) {&#10;        if (hangar == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        if (codigoField != null) {&#10;            codigoField.setText(hangar.getCodigo());&#10;        }&#10;        if (capacidadField != null) {&#10;            capacidadField.setText(hangar.getCapacidad() != null ? String.valueOf(hangar.getCapacidad()) : &quot;&quot;);&#10;        }&#10;        if (ubicacionField != null) {&#10;            ubicacionField.setText(hangar.getUbicacion());&#10;        }&#10;        if (empresaCombo != null) {&#10;            empresaCombo.getSelectionModel().select(hangar.getEmpresa());&#10;        }&#10;    }&#10;&#10;    private void clearForm() {&#10;        if (codigoField != null) {&#10;            codigoField.clear();&#10;        }&#10;        if (capacidadField != null) {&#10;            capacidadField.clear();&#10;        }&#10;        if (ubicacionField != null) {&#10;            ubicacionField.clear();&#10;        }&#10;        if (empresaCombo != null) {&#10;            empresaCombo.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#10;        Alert alert = new Alert(type);&#10;        alert.setTitle(title);&#10;        alert.setHeaderText(null);&#10;        alert.setContentText(message);&#10;        alert.showAndWait();&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.hangar.ui.controller;&#13;&#10;&#13;&#10;import com.example.hangar.model.Empresa;&#13;&#10;import com.example.hangar.model.Hangar;&#13;&#10;import com.example.hangar.service.EmpresaService;&#13;&#10;import com.example.hangar.service.HangarService;&#13;&#10;import javafx.beans.property.SimpleIntegerProperty;&#13;&#10;import javafx.beans.property.SimpleStringProperty;&#13;&#10;import javafx.collections.FXCollections;&#13;&#10;import javafx.collections.ObservableList;&#13;&#10;import javafx.collections.transformation.FilteredList;&#13;&#10;import javafx.fxml.FXML;&#13;&#10;import javafx.scene.control.Alert;&#13;&#10;import javafx.scene.control.ComboBox;&#13;&#10;import javafx.scene.control.ListCell;&#13;&#10;import javafx.scene.control.TableColumn;&#13;&#10;import javafx.scene.control.TableView;&#13;&#10;import javafx.scene.control.TextField;&#13;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#13;&#10;import org.springframework.stereotype.Component;&#13;&#10;&#13;&#10;@Component&#13;&#10;public class HangarController {&#13;&#10;&#13;&#10;    private final HangarService hangarService;&#13;&#10;    private final EmpresaService empresaService;&#13;&#10;&#13;&#10;    private final ObservableList&lt;Hangar&gt; hangares = FXCollections.observableArrayList();&#13;&#10;    private final FilteredList&lt;Hangar&gt; filteredHangares = new FilteredList&lt;&gt;(hangares, hangar -&gt; true);&#13;&#10;    private final ObservableList&lt;Empresa&gt; empresas = FXCollections.observableArrayList();&#13;&#10;&#13;&#10;    public HangarController(HangarService hangarService, EmpresaService empresaService) {&#13;&#10;        this.hangarService = hangarService;&#13;&#10;        this.empresaService = empresaService;&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableView&lt;Hangar&gt; hangarTable;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Hangar, Long&gt; idColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Hangar, String&gt; codigoColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Hangar, Number&gt; capacidadColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Hangar, String&gt; ubicacionColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Hangar, String&gt; empresaColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField codigoField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField capacidadField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField ubicacionField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private ComboBox&lt;Empresa&gt; empresaCombo;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField searchField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    public void initialize() {&#13;&#10;        if (hangarTable == null) {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#13;&#10;        codigoColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;codigo&quot;));&#13;&#10;        capacidadColumn.setCellValueFactory(cellData -&gt; new SimpleIntegerProperty(&#13;&#10;                cellData.getValue().getCapacidad() != null ? cellData.getValue().getCapacidad() : 0));&#13;&#10;        ubicacionColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;ubicacion&quot;));&#13;&#10;        empresaColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(&#13;&#10;                cellData.getValue().getEmpresa() != null ? cellData.getValue().getEmpresa().getNombre() : &quot;&quot;));&#13;&#10;&#13;&#10;        populateEmpresas();&#13;&#10;        refreshTable();&#13;&#10;        hangarTable.setItems(filteredHangares);&#13;&#10;        hangarTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onGuardar() {&#13;&#10;        if (!isFormValid()) {&#13;&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;,&#13;&#10;                    &quot;Código, capacidad (numérica) y empresa son obligatorios.&quot;);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        Hangar selected = hangarTable.getSelectionModel().getSelectedItem();&#13;&#10;        Hangar hangar = selected != null ? hangarService.findById(selected.getId()) : new Hangar();&#13;&#10;        hangar.setCodigo(codigoField.getText().trim());&#13;&#10;        hangar.setCapacidad(Integer.parseInt(capacidadField.getText().trim()));&#13;&#10;        hangar.setUbicacion(ubicacionField.getText() != null ? ubicacionField.getText().trim() : null);&#13;&#10;        hangar.setEmpresa(empresaCombo.getValue());&#13;&#10;        hangarService.save(hangar);&#13;&#10;        refreshTable();&#13;&#10;        clearForm();&#13;&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Hangar guardado&quot;, &quot;El hangar se guardó correctamente.&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onEliminar() {&#13;&#10;        Hangar selected = hangarTable.getSelectionModel().getSelectedItem();&#13;&#10;        if (selected == null) {&#13;&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;,&#13;&#10;                    &quot;Debe seleccionar un hangar para eliminarlo.&quot;);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        hangarService.delete(selected.getId());&#13;&#10;        refreshTable();&#13;&#10;        clearForm();&#13;&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Hangar eliminado&quot;, &quot;El hangar fue eliminado correctamente.&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onLimpiar() {&#13;&#10;        if (hangarTable != null) {&#13;&#10;            hangarTable.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;        clearForm();&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onBuscar() {&#13;&#10;        if (searchField == null) {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        String term = searchField.getText();&#13;&#10;        if (term == null || term.isBlank()) {&#13;&#10;            filteredHangares.setPredicate(h -&gt; true);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        String normalized = term.trim().toLowerCase();&#13;&#10;        Integer numericTerm = null;&#13;&#10;        try {&#13;&#10;            numericTerm = Integer.parseInt(term.trim());&#13;&#10;        } catch (NumberFormatException ignored) {&#13;&#10;        }&#13;&#10;        Integer finalNumericTerm = numericTerm;&#13;&#10;        filteredHangares.setPredicate(hangar -&gt; {&#13;&#10;            if (hangar == null) {&#13;&#10;                return false;&#13;&#10;            }&#13;&#10;            boolean matchesCodigo = hangar.getCodigo() != null &amp;&amp; hangar.getCodigo().toLowerCase().contains(normalized);&#13;&#10;            boolean matchesUbicacion = hangar.getUbicacion() != null &amp;&amp; hangar.getUbicacion().toLowerCase().contains(normalized);&#13;&#10;            boolean matchesCapacidad = finalNumericTerm != null &amp;&amp; hangar.getCapacidad() != null&#13;&#10;                    &amp;&amp; hangar.getCapacidad().equals(finalNumericTerm);&#13;&#10;            boolean matchesEmpresa = hangar.getEmpresa() != null &amp;&amp; hangar.getEmpresa().getNombre() != null&#13;&#10;                    &amp;&amp; hangar.getEmpresa().getNombre().toLowerCase().contains(normalized);&#13;&#10;            return matchesCodigo || matchesUbicacion || matchesCapacidad || matchesEmpresa;&#13;&#10;        });&#13;&#10;    }&#13;&#10;&#13;&#10;    private void populateEmpresas() {&#13;&#10;        empresas.setAll(empresaService.findAll());&#13;&#10;        if (empresaCombo == null) {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        empresaCombo.setItems(empresas);&#13;&#10;        empresaCombo.setCellFactory(cb -&gt; new ListCell&lt;&gt;() {&#13;&#10;            @Override&#13;&#10;            protected void updateItem(Empresa item, boolean empty) {&#13;&#10;                super.updateItem(item, empty);&#13;&#10;                setText(empty || item == null ? &quot;&quot; : item.getNombre());&#13;&#10;            }&#13;&#10;        });&#13;&#10;        empresaCombo.setButtonCell(new ListCell&lt;&gt;() {&#13;&#10;            @Override&#13;&#10;            protected void updateItem(Empresa item, boolean empty) {&#13;&#10;                super.updateItem(item, empty);&#13;&#10;                setText(empty || item == null ? &quot;&quot; : item.getNombre());&#13;&#10;            }&#13;&#10;        });&#13;&#10;    }&#13;&#10;&#13;&#10;    private boolean isFormValid() {&#13;&#10;        if (codigoField == null || codigoField.getText().isBlank()) {&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;        if (capacidadField == null || capacidadField.getText().isBlank()) {&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;        try {&#13;&#10;            Integer.parseInt(capacidadField.getText().trim());&#13;&#10;        } catch (NumberFormatException ex) {&#13;&#10;            return false;&#13;&#10;        }&#13;&#10;        return empresaCombo != null &amp;&amp; empresaCombo.getValue() != null;&#13;&#10;    }&#13;&#10;&#13;&#10;    private void refreshTable() {&#13;&#10;        hangares.setAll(hangarService.findAll());&#13;&#10;        if (hangarTable != null) {&#13;&#10;            hangarTable.refresh();&#13;&#10;        }&#13;&#10;        onBuscar();&#13;&#10;    }&#13;&#10;&#13;&#10;    private void fillForm(Hangar hangar) {&#10;        if (hangar == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        if (codigoField != null) {&#10;            codigoField.setText(hangar.getCodigo());&#10;        }&#10;        if (capacidadField != null) {&#10;            capacidadField.setText(hangar.getCapacidad() != null ? String.valueOf(hangar.getCapacidad()) : &quot;&quot;);&#10;        }&#10;        if (ubicacionField != null) {&#10;            ubicacionField.setText(hangar.getUbicacion());&#10;        }&#10;        if (empresaCombo != null &amp;&amp; hangar.getEmpresa() != null) {&#10;            Empresa empresa = empresas.stream()&#10;                    .filter(e -&gt; e.getId().equals(hangar.getEmpresa().getId()))&#10;                    .findFirst()&#10;                    .orElse(null);&#10;            empresaCombo.getSelectionModel().select(empresa);&#10;        }&#10;    }&#13;&#10;&#13;&#10;    private void clearForm() {&#13;&#10;        if (codigoField != null) {&#13;&#10;            codigoField.clear();&#13;&#10;        }&#13;&#10;        if (capacidadField != null) {&#13;&#10;            capacidadField.clear();&#13;&#10;        }&#13;&#10;        if (ubicacionField != null) {&#13;&#10;            ubicacionField.clear();&#13;&#10;        }&#13;&#10;        if (empresaCombo != null) {&#13;&#10;            empresaCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#13;&#10;        Alert alert = new Alert(type);&#13;&#10;        alert.setTitle(title);&#13;&#10;        alert.setHeaderText(null);&#13;&#10;        alert.setContentText(message);&#13;&#10;        alert.showAndWait();&#13;&#10;    }&#13;&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/MainController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/MainController.java" />
              <option name="originalContent" value="package com.example.hangar.ui.controller;&#10;&#10;import com.example.hangar.util.FxSpringIntegrator;&#10;import javafx.fxml.FXML;&#10;import javafx.fxml.FXMLLoader;&#10;import javafx.scene.Node;&#10;import javafx.scene.control.Alert;&#10;import javafx.scene.control.Label;&#10;import javafx.scene.layout.StackPane;&#10;import org.springframework.stereotype.Component;&#10;&#10;import java.io.IOException;&#10;&#10;@Component&#10;public class MainController {&#10;&#10;    private final FxSpringIntegrator fxSpringIntegrator;&#10;&#10;    public MainController(FxSpringIntegrator fxSpringIntegrator) {&#10;        this.fxSpringIntegrator = fxSpringIntegrator;&#10;    }&#10;&#10;    @FXML&#10;    private Label welcomeLabel;&#10;&#10;    @FXML&#10;    private StackPane contentPane;&#10;&#10;    @FXML&#10;    public void initialize() {&#10;        if (welcomeLabel != null) {&#10;            welcomeLabel.setText(&quot;Panel principal del Hangar&quot;);&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void showEmpresas() {&#10;        loadView(&quot;/fxml/empresa-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showHangares() {&#10;        loadView(&quot;/fxml/hangar-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showPilotos() {&#10;        loadView(&quot;/fxml/piloto-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showTalleres() {&#10;        loadView(&quot;/fxml/taller-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showTripulaciones() {&#10;        loadView(&quot;/fxml/tripulacion-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showVuelos() {&#10;        loadView(&quot;/fxml/vuelo-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showNaves() {&#10;        loadView(&quot;/fxml/nave-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showEncargados() {&#10;        loadView(&quot;/fxml/encargado-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showPersonas() {&#10;        loadView(&quot;/fxml/persona-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showRoles() {&#10;        loadView(&quot;/fxml/rol-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showReportes() {&#10;        loadView(&quot;/fxml/reporte-view.fxml&quot;);&#10;    }&#10;&#10;    private void loadView(String resource) {&#10;        if (contentPane == null) {&#10;            return;&#10;        }&#10;        try {&#10;            FXMLLoader loader = fxSpringIntegrator.loadView(getClass().getResource(resource));&#10;            Node view = loader.getRoot();&#10;            contentPane.getChildren().setAll(view);&#10;        } catch (IOException e) {&#10;            showError(&quot;No se pudo cargar la vista solicitada.&quot;);&#10;        }&#10;    }&#10;&#10;    private void showError(String message) {&#10;        Alert alert = new Alert(Alert.AlertType.ERROR);&#10;        alert.setTitle(&quot;Error al cargar vista&quot;);&#10;        alert.setHeaderText(null);&#10;        alert.setContentText(message);&#10;        alert.showAndWait();&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.hangar.ui.controller;&#13;&#10;&#13;&#10;import com.example.hangar.util.FxSpringIntegrator;&#13;&#10;import javafx.fxml.FXML;&#13;&#10;import javafx.fxml.FXMLLoader;&#13;&#10;import javafx.scene.Node;&#13;&#10;import javafx.scene.control.Alert;&#13;&#10;import javafx.scene.control.Label;&#13;&#10;import javafx.scene.layout.StackPane;&#13;&#10;import org.springframework.stereotype.Component;&#13;&#10;&#13;&#10;import java.io.IOException;&#13;&#10;&#13;&#10;@Component&#13;&#10;public class MainController {&#13;&#10;&#13;&#10;    private final FxSpringIntegrator fxSpringIntegrator;&#13;&#10;&#13;&#10;    public MainController(FxSpringIntegrator fxSpringIntegrator) {&#13;&#10;        this.fxSpringIntegrator = fxSpringIntegrator;&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private Label welcomeLabel;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private StackPane contentPane;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    public void initialize() {&#13;&#10;        if (welcomeLabel != null) {&#13;&#10;            welcomeLabel.setText(&quot;Panel principal del Hangar&quot;);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void showEmpresas() {&#13;&#10;        loadView(&quot;/fxml/empresa-view.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void showHangares() {&#13;&#10;        loadView(&quot;/fxml/hangar-view.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void showPilotos() {&#13;&#10;        loadView(&quot;/fxml/piloto-view.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void showTalleres() {&#13;&#10;        loadView(&quot;/fxml/taller-view.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void showTripulaciones() {&#13;&#10;        loadView(&quot;/fxml/tripulacion-view.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void showVuelos() {&#13;&#10;        loadView(&quot;/fxml/vuelo-view.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void showNaves() {&#13;&#10;        loadView(&quot;/fxml/nave-view.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void showEncargados() {&#13;&#10;        loadView(&quot;/fxml/encargado-view.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void showPersonas() {&#13;&#10;        loadView(&quot;/fxml/persona-view.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void showRoles() {&#13;&#10;        loadView(&quot;/fxml/rol-view.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#10;    private void showReportes() {&#10;        loadView(&quot;/fxml/reporte-view.fxml&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void showModelos() {&#10;        loadView(&quot;/fxml/modelo-view.fxml&quot;);&#10;    }&#10;&#10;    private void loadView(String resource) {&#13;&#10;        if (contentPane == null) {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        try {&#13;&#10;            FXMLLoader loader = fxSpringIntegrator.loadView(getClass().getResource(resource));&#13;&#10;            Node view = loader.getRoot();&#13;&#10;            contentPane.getChildren().setAll(view);&#13;&#10;        } catch (IOException e) {&#13;&#10;            showError(&quot;No se pudo cargar la vista solicitada.&quot;);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showError(String message) {&#13;&#10;        Alert alert = new Alert(Alert.AlertType.ERROR);&#13;&#10;        alert.setTitle(&quot;Error al cargar vista&quot;);&#13;&#10;        alert.setHeaderText(null);&#13;&#10;        alert.setContentText(message);&#13;&#10;        alert.showAndWait();&#13;&#10;    }&#13;&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/ModeloController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/ModeloController.java" />
              <option name="originalContent" value="package com.example.hangar.ui.controller;&#10;&#10;import com.example.hangar.model.Modelo;&#10;import com.example.hangar.service.ModeloService;&#10;import javafx.collections.FXCollections;&#10;import javafx.collections.ObservableList;&#10;import javafx.collections.transformation.FilteredList;&#10;import javafx.fxml.FXML;&#10;import javafx.scene.control.Alert;&#10;import javafx.scene.control.TableColumn;&#10;import javafx.scene.control.TableView;&#10;import javafx.scene.control.TextField;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#10;import javafx.beans.property.SimpleIntegerProperty;&#10;import org.springframework.stereotype.Component;&#10;&#10;@Component&#10;public class ModeloController {&#10;&#10;    private final ModeloService modeloService;&#10;    private final ObservableList&lt;Modelo&gt; modelos = FXCollections.observableArrayList();&#10;    private final FilteredList&lt;Modelo&gt; filteredModelos = new FilteredList&lt;&gt;(modelos, modelo -&gt; true);&#10;&#10;    public ModeloController(ModeloService modeloService) {&#10;        this.modeloService = modeloService;&#10;    }&#10;&#10;    @FXML&#10;    private TableView&lt;Modelo&gt; modeloTable;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Modelo, Long&gt; idColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Modelo, String&gt; nombreColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Modelo, String&gt; fabricanteColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Modelo, Integer&gt; capacidadColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Modelo, Number&gt; navesColumn;&#10;&#10;    @FXML&#10;    private TextField nombreField;&#10;&#10;    @FXML&#10;    private TextField fabricanteField;&#10;&#10;    @FXML&#10;    private TextField capacidadField;&#10;&#10;    @FXML&#10;    private TextField searchField;&#10;&#10;    @FXML&#10;    public void initialize() {&#10;        if (modeloTable != null) {&#10;            idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#10;            nombreColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nombre&quot;));&#10;            fabricanteColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;fabricante&quot;));&#10;            capacidadColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;capacidad&quot;));&#10;            navesColumn.setCellValueFactory(cellData -&gt;&#10;                    new SimpleIntegerProperty(cellData.getValue().getNaves().size()));&#10;            modelos.setAll(modeloService.findAll());&#10;            modeloTable.setItems(filteredModelos);&#10;            modeloTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onGuardar() {&#10;        if (!isFormValid()) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;Nombre es obligatorio.&quot;);&#10;            return;&#10;        }&#10;        Modelo selected = modeloTable.getSelectionModel().getSelectedItem();&#10;        Modelo modelo = selected != null ? modeloService.findById(selected.getId()) : new Modelo();&#10;        modelo.setNombre(nombreField.getText().trim());&#10;        modelo.setFabricante(fabricanteField.getText().trim());&#10;&#10;        // Validar y establecer capacidad&#10;        String capacidadText = capacidadField.getText().trim();&#10;        if (!capacidadText.isEmpty()) {&#10;            try {&#10;                modelo.setCapacidad(Integer.parseInt(capacidadText));&#10;            } catch (NumberFormatException e) {&#10;                showAlert(Alert.AlertType.WARNING, &quot;Formato incorrecto&quot;, &quot;La capacidad debe ser un número entero.&quot;);&#10;                return;&#10;            }&#10;        } else {&#10;            modelo.setCapacidad(null);&#10;        }&#10;&#10;        modeloService.save(modelo);&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;El modelo ha sido guardado correctamente.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onEliminar() {&#10;        Modelo selected = modeloTable.getSelectionModel().getSelectedItem();&#10;        if (selected == null) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir un modelo para eliminarlo.&quot;);&#10;            return;&#10;        }&#10;        modeloService.delete(selected.getId());&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;El modelo seleccionado fue eliminado.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onLimpiar() {&#10;        clearForm();&#10;        if (modeloTable != null) {&#10;            modeloTable.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onBuscar() {&#10;        if (searchField == null) {&#10;            return;&#10;        }&#10;        String term = searchField.getText();&#10;        if (term == null || term.isBlank()) {&#10;            filteredModelos.setPredicate(modelo -&gt; true);&#10;            return;&#10;        }&#10;        String normalized = term.trim().toLowerCase();&#10;        Integer numericTerm = null;&#10;        try {&#10;            numericTerm = Integer.parseInt(term.trim());&#10;        } catch (NumberFormatException ignored) {&#10;            // El término de búsqueda no es numérico.&#10;        }&#10;        Integer finalNumericTerm = numericTerm;&#10;        filteredModelos.setPredicate(modelo -&gt; {&#10;            if (modelo == null) {&#10;                return false;&#10;            }&#10;            boolean matchesNombre = modelo.getNombre() != null &amp;&amp; modelo.getNombre().toLowerCase().contains(normalized);&#10;            boolean matchesFabricante = modelo.getFabricante() != null &amp;&amp; modelo.getFabricante().toLowerCase().contains(normalized);&#10;            boolean matchesCapacidad = finalNumericTerm != null &amp;&amp; modelo.getCapacidad() != null &amp;&amp; modelo.getCapacidad().equals(finalNumericTerm);&#10;            boolean matchesNaves = finalNumericTerm != null &amp;&amp; modelo.getNaves().size() == finalNumericTerm;&#10;            return matchesNombre || matchesFabricante || matchesCapacidad || matchesNaves;&#10;        });&#10;    }&#10;&#10;    private boolean isFormValid() {&#10;        return nombreField != null &amp;&amp; !nombreField.getText().isBlank();&#10;    }&#10;&#10;    private void refreshTable() {&#10;        modelos.setAll(modeloService.findAll());&#10;        modeloTable.refresh();&#10;        onBuscar();&#10;    }&#10;&#10;    private void fillForm(Modelo modelo) {&#10;        if (modelo == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        nombreField.setText(modelo.getNombre());&#10;        fabricanteField.setText(modelo.getFabricante());&#10;        capacidadField.setText(modelo.getCapacidad() != null ? modelo.getCapacidad().toString() : &quot;&quot;);&#10;    }&#10;&#10;    private void clearForm() {&#10;        if (nombreField != null) {&#10;            nombreField.clear();&#10;        }&#10;        if (fabricanteField != null) {&#10;            fabricanteField.clear();&#10;        }&#10;        if (capacidadField != null) {&#10;            capacidadField.clear();&#10;        }&#10;    }&#10;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#10;        Alert alert = new Alert(type);&#10;        alert.setTitle(title);&#10;        alert.setHeaderText(null);&#10;        alert.setContentText(message);&#10;        alert.showAndWait();&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.hangar.ui.controller;&#10;&#10;import com.example.hangar.model.Modelo;&#10;import com.example.hangar.service.ModeloService;&#10;import javafx.collections.FXCollections;&#10;import javafx.collections.ObservableList;&#10;import javafx.collections.transformation.FilteredList;&#10;import javafx.fxml.FXML;&#10;import javafx.scene.control.Alert;&#10;import javafx.scene.control.TableColumn;&#10;import javafx.scene.control.TableView;&#10;import javafx.scene.control.TextField;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#10;import javafx.beans.property.SimpleIntegerProperty;&#10;import org.springframework.stereotype.Component;&#10;&#10;@Component&#10;public class ModeloController {&#10;&#10;    private final ModeloService modeloService;&#10;    private final ObservableList&lt;Modelo&gt; modelos = FXCollections.observableArrayList();&#10;    private final FilteredList&lt;Modelo&gt; filteredModelos = new FilteredList&lt;&gt;(modelos, modelo -&gt; true);&#10;&#10;    public ModeloController(ModeloService modeloService) {&#10;        this.modeloService = modeloService;&#10;    }&#10;&#10;    @FXML&#10;    private TableView&lt;Modelo&gt; modeloTable;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Modelo, Long&gt; idColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Modelo, String&gt; nombreColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Modelo, String&gt; fabricanteColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Modelo, Integer&gt; capacidadColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Modelo, Number&gt; navesColumn;&#10;&#10;    @FXML&#10;    private TextField nombreField;&#10;&#10;    @FXML&#10;    private TextField fabricanteField;&#10;&#10;    @FXML&#10;    private TextField capacidadField;&#10;&#10;    @FXML&#10;    private TextField searchField;&#10;&#10;    @FXML&#10;    public void initialize() {&#10;        if (modeloTable != null) {&#10;            idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#10;            nombreColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nombre&quot;));&#10;            fabricanteColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;fabricante&quot;));&#10;            capacidadColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;capacidad&quot;));&#10;            navesColumn.setCellValueFactory(cellData -&gt;&#10;                    new SimpleIntegerProperty(cellData.getValue().getNaves().size()));&#10;            modelos.setAll(modeloService.findAll());&#10;            modeloTable.setItems(filteredModelos);&#10;            modeloTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onGuardar() {&#10;        if (!isFormValid()) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;Nombre es obligatorio.&quot;);&#10;            return;&#10;        }&#10;        Modelo selected = modeloTable.getSelectionModel().getSelectedItem();&#10;        Modelo modelo = selected != null ? modeloService.findById(selected.getId()) : new Modelo();&#10;        modelo.setNombre(nombreField.getText().trim());&#10;        modelo.setFabricante(fabricanteField.getText().trim());&#10;&#10;        // Validar y establecer capacidad&#10;        String capacidadText = capacidadField.getText().trim();&#10;        if (!capacidadText.isEmpty()) {&#10;            try {&#10;                modelo.setCapacidad(Integer.parseInt(capacidadText));&#10;            } catch (NumberFormatException e) {&#10;                showAlert(Alert.AlertType.WARNING, &quot;Formato incorrecto&quot;, &quot;La capacidad debe ser un número entero.&quot;);&#10;                return;&#10;            }&#10;        } else {&#10;            modelo.setCapacidad(null);&#10;        }&#10;&#10;        modeloService.save(modelo);&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;El modelo ha sido guardado correctamente.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onEliminar() {&#10;        Modelo selected = modeloTable.getSelectionModel().getSelectedItem();&#10;        if (selected == null) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir un modelo para eliminarlo.&quot;);&#10;            return;&#10;        }&#10;        &#10;        // Validar si el modelo tiene naves asociadas&#10;        if (selected.getNaves() != null &amp;&amp; !selected.getNaves().isEmpty()) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;No se puede eliminar&quot;, &#10;                    &quot;Este modelo tiene &quot; + selected.getNaves().size() + &quot; nave(s) asociada(s). &quot; +&#10;                    &quot;Primero debe eliminar o reasignar las naves relacionadas.&quot;);&#10;            return;&#10;        }&#10;        &#10;        try {&#10;            modeloService.delete(selected.getId());&#10;            refreshTable();&#10;            clearForm();&#10;            showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;El modelo seleccionado fue eliminado.&quot;);&#10;        } catch (org.springframework.dao.DataIntegrityViolationException e) {&#10;            showAlert(Alert.AlertType.ERROR, &quot;No se puede eliminar&quot;, &#10;                    &quot;No se puede eliminar este modelo porque tiene naves asociadas. &quot; +&#10;                    &quot;Primero debe eliminar o reasignar las naves relacionadas.&quot;);&#10;        } catch (Exception e) {&#10;            showAlert(Alert.AlertType.ERROR, &quot;Error&quot;, &quot;Ocurrió un error al eliminar el modelo: &quot; + e.getMessage());&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onLimpiar() {&#10;        clearForm();&#10;        if (modeloTable != null) {&#10;            modeloTable.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onBuscar() {&#10;        if (searchField == null) {&#10;            return;&#10;        }&#10;        String term = searchField.getText();&#10;        if (term == null || term.isBlank()) {&#10;            filteredModelos.setPredicate(modelo -&gt; true);&#10;            return;&#10;        }&#10;        String normalized = term.trim().toLowerCase();&#10;        Integer numericTerm = null;&#10;        try {&#10;            numericTerm = Integer.parseInt(term.trim());&#10;        } catch (NumberFormatException ignored) {&#10;            // El término de búsqueda no es numérico.&#10;        }&#10;        Integer finalNumericTerm = numericTerm;&#10;        filteredModelos.setPredicate(modelo -&gt; {&#10;            if (modelo == null) {&#10;                return false;&#10;            }&#10;            boolean matchesNombre = modelo.getNombre() != null &amp;&amp; modelo.getNombre().toLowerCase().contains(normalized);&#10;            boolean matchesFabricante = modelo.getFabricante() != null &amp;&amp; modelo.getFabricante().toLowerCase().contains(normalized);&#10;            boolean matchesCapacidad = finalNumericTerm != null &amp;&amp; modelo.getCapacidad() != null &amp;&amp; modelo.getCapacidad().equals(finalNumericTerm);&#10;            boolean matchesNaves = finalNumericTerm != null &amp;&amp; modelo.getNaves().size() == finalNumericTerm;&#10;            return matchesNombre || matchesFabricante || matchesCapacidad || matchesNaves;&#10;        });&#10;    }&#10;&#10;    private boolean isFormValid() {&#10;        return nombreField != null &amp;&amp; !nombreField.getText().isBlank();&#10;    }&#10;&#10;    private void refreshTable() {&#10;        modelos.setAll(modeloService.findAll());&#10;        modeloTable.refresh();&#10;        onBuscar();&#10;    }&#10;&#10;    private void fillForm(Modelo modelo) {&#10;        if (modelo == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        nombreField.setText(modelo.getNombre());&#10;        fabricanteField.setText(modelo.getFabricante());&#10;        capacidadField.setText(modelo.getCapacidad() != null ? modelo.getCapacidad().toString() : &quot;&quot;);&#10;    }&#10;&#10;    private void clearForm() {&#10;        if (nombreField != null) {&#10;            nombreField.clear();&#10;        }&#10;        if (fabricanteField != null) {&#10;            fabricanteField.clear();&#10;        }&#10;        if (capacidadField != null) {&#10;            capacidadField.clear();&#10;        }&#10;    }&#10;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#10;        Alert alert = new Alert(type);&#10;        alert.setTitle(title);&#10;        alert.setHeaderText(null);&#10;        alert.setContentText(message);&#10;        alert.showAndWait();&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/NaveController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/NaveController.java" />
              <option name="originalContent" value="package com.example.hangar.ui.controller;&#10;&#10;import com.example.hangar.model.Empresa;&#10;import com.example.hangar.model.Hangar;&#10;import com.example.hangar.model.Modelo;&#10;import com.example.hangar.model.Nave;&#10;import com.example.hangar.service.EmpresaService;&#10;import com.example.hangar.service.HangarService;&#10;import com.example.hangar.service.ModeloService;&#10;import com.example.hangar.service.NaveService;&#10;import javafx.beans.property.SimpleStringProperty;&#10;import javafx.collections.FXCollections;&#10;import javafx.collections.ObservableList;&#10;import javafx.collections.transformation.FilteredList;&#10;import javafx.fxml.FXML;&#10;import javafx.scene.control.Alert;&#10;import javafx.scene.control.ComboBox;&#10;import javafx.scene.control.ListCell;&#10;import javafx.scene.control.TableColumn;&#10;import javafx.scene.control.TableView;&#10;import javafx.scene.control.TextField;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#10;import org.springframework.stereotype.Component;&#10;&#10;import java.util.List;&#10;import java.util.function.Function;&#10;&#10;@Component&#10;public class NaveController {&#10;&#10;    private final NaveService naveService;&#10;    private final ModeloService modeloService;&#10;    private final EmpresaService empresaService;&#10;    private final HangarService hangarService;&#10;    private final ObservableList&lt;Nave&gt; naves = FXCollections.observableArrayList();&#10;    private final FilteredList&lt;Nave&gt; filteredNaves = new FilteredList&lt;&gt;(naves, nave -&gt; true);&#10;    private final ObservableList&lt;Modelo&gt; modelos = FXCollections.observableArrayList();&#10;    private final ObservableList&lt;Empresa&gt; empresas = FXCollections.observableArrayList();&#10;    private final ObservableList&lt;Hangar&gt; hangares = FXCollections.observableArrayList();&#10;&#10;    public NaveController(NaveService naveService,&#10;                          ModeloService modeloService,&#10;                          EmpresaService empresaService,&#10;                          HangarService hangarService) {&#10;        this.naveService = naveService;&#10;        this.modeloService = modeloService;&#10;        this.empresaService = empresaService;&#10;        this.hangarService = hangarService;&#10;    }&#10;&#10;    @FXML&#10;    private TableView&lt;Nave&gt; naveTable;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Nave, Long&gt; idColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Nave, String&gt; matriculaColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Nave, String&gt; estadoColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Nave, String&gt; modeloColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Nave, String&gt; empresaColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Nave, String&gt; hangarColumn;&#10;&#10;    @FXML&#10;    private TextField matriculaField;&#10;&#10;    @FXML&#10;    private TextField estadoField;&#10;&#10;    @FXML&#10;    private ComboBox&lt;Modelo&gt; modeloCombo;&#10;&#10;    @FXML&#10;    private ComboBox&lt;Empresa&gt; empresaCombo;&#10;&#10;    @FXML&#10;    private ComboBox&lt;Hangar&gt; hangarCombo;&#10;&#10;    @FXML&#10;    private TextField searchField;&#10;&#10;    @FXML&#10;    public void initialize() {&#10;        if (naveTable != null) {&#10;            idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#10;            matriculaColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;matricula&quot;));&#10;            estadoColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;estado&quot;));&#10;            modeloColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(&#10;                    cellData.getValue().getModelo() != null ? cellData.getValue().getModelo().getNombre() : &quot;&quot;));&#10;            empresaColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(&#10;                    cellData.getValue().getEmpresa() != null ? cellData.getValue().getEmpresa().getNombre() : &quot;&quot;));&#10;            hangarColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(&#10;                    cellData.getValue().getHangar() != null ? cellData.getValue().getHangar().getCodigo() : &quot;&quot;));&#10;            naves.setAll(naveService.findAll());&#10;            naveTable.setItems(filteredNaves);&#10;            naveTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#10;        }&#10;&#10;        populateComboBox(modeloCombo, modelos, modeloService.findAll(), Modelo::getNombre);&#10;        populateComboBox(empresaCombo, empresas, empresaService.findAll(), Empresa::getNombre);&#10;        populateComboBox(hangarCombo, hangares, hangarService.findAll(), Hangar::getCodigo);&#10;    }&#10;&#10;    @FXML&#10;    private void onGuardar() {&#10;        if (!isFormValid()) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;Todos los campos son obligatorios.&quot;);&#10;            return;&#10;        }&#10;        Nave selected = naveTable.getSelectionModel().getSelectedItem();&#10;        Nave nave = selected != null ? naveService.findById(selected.getId()) : new Nave();&#10;        nave.setMatricula(matriculaField.getText().trim());&#10;        nave.setEstado(estadoField.getText().trim());&#10;        nave.setModelo(modeloCombo.getValue());&#10;        nave.setEmpresa(empresaCombo.getValue());&#10;        nave.setHangar(hangarCombo.getValue());&#10;        naveService.save(nave);&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;La nave ha sido guardada correctamente.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onEliminar() {&#10;        Nave selected = naveTable.getSelectionModel().getSelectedItem();&#10;        if (selected == null) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir una nave para eliminarla.&quot;);&#10;            return;&#10;        }&#10;        naveService.delete(selected.getId());&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;La nave seleccionada fue eliminada.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onLimpiar() {&#10;        clearForm();&#10;        if (naveTable != null) {&#10;            naveTable.getSelectionModel().clearSelection();&#10;        }&#10;        if (modeloCombo != null) {&#10;            modeloCombo.getSelectionModel().clearSelection();&#10;        }&#10;        if (empresaCombo != null) {&#10;            empresaCombo.getSelectionModel().clearSelection();&#10;        }&#10;        if (hangarCombo != null) {&#10;            hangarCombo.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onBuscar() {&#10;        if (searchField == null) {&#10;            return;&#10;        }&#10;        String term = searchField.getText();&#10;        if (term == null || term.isBlank()) {&#10;            filteredNaves.setPredicate(nave -&gt; true);&#10;            return;&#10;        }&#10;        String normalized = term.trim().toLowerCase();&#10;        filteredNaves.setPredicate(nave -&gt; {&#10;            if (nave == null) {&#10;                return false;&#10;            }&#10;            boolean matchesMatricula = nave.getMatricula() != null &amp;&amp; nave.getMatricula().toLowerCase().contains(normalized);&#10;            boolean matchesEstado = nave.getEstado() != null &amp;&amp; nave.getEstado().toLowerCase().contains(normalized);&#10;            return matchesMatricula || matchesEstado;&#10;        });&#10;    }&#10;&#10;    private boolean isFormValid() {&#10;        return matriculaField != null &amp;&amp; !matriculaField.getText().isBlank()&#10;                &amp;&amp; estadoField != null &amp;&amp; !estadoField.getText().isBlank()&#10;                &amp;&amp; modeloCombo != null &amp;&amp; modeloCombo.getValue() != null&#10;                &amp;&amp; empresaCombo != null &amp;&amp; empresaCombo.getValue() != null&#10;                &amp;&amp; hangarCombo != null &amp;&amp; hangarCombo.getValue() != null;&#10;    }&#10;&#10;    private void refreshTable() {&#10;        naves.setAll(naveService.findAll());&#10;        naveTable.refresh();&#10;        onBuscar();&#10;    }&#10;&#10;    private void fillForm(Nave nave) {&#10;        if (nave == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        matriculaField.setText(nave.getMatricula());&#10;        estadoField.setText(nave.getEstado());&#10;        if (modeloCombo != null) {&#10;            modeloCombo.getSelectionModel().select(nave.getModelo());&#10;        }&#10;        if (empresaCombo != null) {&#10;            empresaCombo.getSelectionModel().select(nave.getEmpresa());&#10;        }&#10;        if (hangarCombo != null) {&#10;            hangarCombo.getSelectionModel().select(nave.getHangar());&#10;        }&#10;    }&#10;&#10;    private void clearForm() {&#10;        if (matriculaField != null) {&#10;            matriculaField.clear();&#10;        }&#10;        if (estadoField != null) {&#10;            estadoField.clear();&#10;        }&#10;        if (modeloCombo != null) {&#10;            modeloCombo.getSelectionModel().clearSelection();&#10;        }&#10;        if (empresaCombo != null) {&#10;            empresaCombo.getSelectionModel().clearSelection();&#10;        }&#10;        if (hangarCombo != null) {&#10;            hangarCombo.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#10;        Alert alert = new Alert(type);&#10;        alert.setTitle(title);&#10;        alert.setHeaderText(null);&#10;        alert.setContentText(message);&#10;        alert.showAndWait();&#10;    }&#10;&#10;    private &lt;T&gt; void populateComboBox(ComboBox&lt;T&gt; comboBox,&#10;                                      ObservableList&lt;T&gt; targetList,&#10;                                      List&lt;T&gt; source,&#10;                                      Function&lt;T, String&gt; labelProvider) {&#10;        if (comboBox == null) {&#10;            return;&#10;        }&#10;        targetList.setAll(source);&#10;        comboBox.setItems(targetList);&#10;        comboBox.setCellFactory(list -&gt; new ListCell&lt;&gt;() {&#10;            @Override&#10;            protected void updateItem(T item, boolean empty) {&#10;                super.updateItem(item, empty);&#10;                setText(empty || item == null ? null : labelProvider.apply(item));&#10;            }&#10;        });&#10;        comboBox.setButtonCell(new ListCell&lt;&gt;() {&#10;            @Override&#10;            protected void updateItem(T item, boolean empty) {&#10;                super.updateItem(item, empty);&#10;                setText(empty || item == null ? null : labelProvider.apply(item));&#10;            }&#10;        });&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.hangar.ui.controller;&#13;&#10;&#13;&#10;import com.example.hangar.model.Empresa;&#13;&#10;import com.example.hangar.model.Hangar;&#13;&#10;import com.example.hangar.model.Modelo;&#13;&#10;import com.example.hangar.model.Nave;&#13;&#10;import com.example.hangar.service.EmpresaService;&#13;&#10;import com.example.hangar.service.HangarService;&#13;&#10;import com.example.hangar.service.ModeloService;&#13;&#10;import com.example.hangar.service.NaveService;&#13;&#10;import javafx.beans.property.SimpleStringProperty;&#13;&#10;import javafx.collections.FXCollections;&#13;&#10;import javafx.collections.ObservableList;&#13;&#10;import javafx.collections.transformation.FilteredList;&#13;&#10;import javafx.fxml.FXML;&#13;&#10;import javafx.scene.control.Alert;&#13;&#10;import javafx.scene.control.ComboBox;&#13;&#10;import javafx.scene.control.ListCell;&#13;&#10;import javafx.scene.control.TableColumn;&#13;&#10;import javafx.scene.control.TableView;&#13;&#10;import javafx.scene.control.TextField;&#13;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#13;&#10;import org.springframework.stereotype.Component;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;import java.util.function.Function;&#13;&#10;&#13;&#10;@Component&#13;&#10;public class NaveController {&#13;&#10;&#13;&#10;    private final NaveService naveService;&#13;&#10;    private final ModeloService modeloService;&#13;&#10;    private final EmpresaService empresaService;&#13;&#10;    private final HangarService hangarService;&#13;&#10;    private final ObservableList&lt;Nave&gt; naves = FXCollections.observableArrayList();&#13;&#10;    private final FilteredList&lt;Nave&gt; filteredNaves = new FilteredList&lt;&gt;(naves, nave -&gt; true);&#13;&#10;    private final ObservableList&lt;Modelo&gt; modelos = FXCollections.observableArrayList();&#13;&#10;    private final ObservableList&lt;Empresa&gt; empresas = FXCollections.observableArrayList();&#13;&#10;    private final ObservableList&lt;Hangar&gt; hangares = FXCollections.observableArrayList();&#13;&#10;&#13;&#10;    public NaveController(NaveService naveService,&#13;&#10;                          ModeloService modeloService,&#13;&#10;                          EmpresaService empresaService,&#13;&#10;                          HangarService hangarService) {&#13;&#10;        this.naveService = naveService;&#13;&#10;        this.modeloService = modeloService;&#13;&#10;        this.empresaService = empresaService;&#13;&#10;        this.hangarService = hangarService;&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableView&lt;Nave&gt; naveTable;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Nave, Long&gt; idColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Nave, String&gt; matriculaColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Nave, String&gt; estadoColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Nave, String&gt; modeloColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Nave, String&gt; empresaColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Nave, String&gt; hangarColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField matriculaField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField estadoField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private ComboBox&lt;Modelo&gt; modeloCombo;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private ComboBox&lt;Empresa&gt; empresaCombo;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private ComboBox&lt;Hangar&gt; hangarCombo;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField searchField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    public void initialize() {&#13;&#10;        if (naveTable != null) {&#13;&#10;            idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#13;&#10;            matriculaColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;matricula&quot;));&#13;&#10;            estadoColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;estado&quot;));&#13;&#10;            modeloColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(&#13;&#10;                    cellData.getValue().getModelo() != null ? cellData.getValue().getModelo().getNombre() : &quot;&quot;));&#13;&#10;            empresaColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(&#13;&#10;                    cellData.getValue().getEmpresa() != null ? cellData.getValue().getEmpresa().getNombre() : &quot;&quot;));&#13;&#10;            hangarColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(&#13;&#10;                    cellData.getValue().getHangar() != null ? cellData.getValue().getHangar().getCodigo() : &quot;&quot;));&#13;&#10;            naves.setAll(naveService.findAll());&#13;&#10;            naveTable.setItems(filteredNaves);&#13;&#10;            naveTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#13;&#10;        }&#13;&#10;&#13;&#10;        populateComboBox(modeloCombo, modelos, modeloService.findAll(), Modelo::getNombre);&#13;&#10;        populateComboBox(empresaCombo, empresas, empresaService.findAll(), Empresa::getNombre);&#13;&#10;        populateComboBox(hangarCombo, hangares, hangarService.findAll(), Hangar::getCodigo);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onGuardar() {&#13;&#10;        if (!isFormValid()) {&#13;&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;Todos los campos son obligatorios.&quot;);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        Nave selected = naveTable.getSelectionModel().getSelectedItem();&#13;&#10;        Nave nave = selected != null ? naveService.findById(selected.getId()) : new Nave();&#13;&#10;        nave.setMatricula(matriculaField.getText().trim());&#13;&#10;        nave.setEstado(estadoField.getText().trim());&#13;&#10;        nave.setModelo(modeloCombo.getValue());&#13;&#10;        nave.setEmpresa(empresaCombo.getValue());&#13;&#10;        nave.setHangar(hangarCombo.getValue());&#13;&#10;        naveService.save(nave);&#13;&#10;        refreshTable();&#13;&#10;        clearForm();&#13;&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;La nave ha sido guardada correctamente.&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onEliminar() {&#13;&#10;        Nave selected = naveTable.getSelectionModel().getSelectedItem();&#13;&#10;        if (selected == null) {&#13;&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir una nave para eliminarla.&quot;);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        naveService.delete(selected.getId());&#13;&#10;        refreshTable();&#13;&#10;        clearForm();&#13;&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;La nave seleccionada fue eliminada.&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onLimpiar() {&#13;&#10;        clearForm();&#13;&#10;        if (naveTable != null) {&#13;&#10;            naveTable.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;        if (modeloCombo != null) {&#13;&#10;            modeloCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;        if (empresaCombo != null) {&#13;&#10;            empresaCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;        if (hangarCombo != null) {&#13;&#10;            hangarCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onBuscar() {&#13;&#10;        if (searchField == null) {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        String term = searchField.getText();&#13;&#10;        if (term == null || term.isBlank()) {&#13;&#10;            filteredNaves.setPredicate(nave -&gt; true);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        String normalized = term.trim().toLowerCase();&#13;&#10;        filteredNaves.setPredicate(nave -&gt; {&#13;&#10;            if (nave == null) {&#13;&#10;                return false;&#13;&#10;            }&#13;&#10;            boolean matchesMatricula = nave.getMatricula() != null &amp;&amp; nave.getMatricula().toLowerCase().contains(normalized);&#13;&#10;            boolean matchesEstado = nave.getEstado() != null &amp;&amp; nave.getEstado().toLowerCase().contains(normalized);&#13;&#10;            return matchesMatricula || matchesEstado;&#13;&#10;        });&#13;&#10;    }&#13;&#10;&#13;&#10;    private boolean isFormValid() {&#13;&#10;        return matriculaField != null &amp;&amp; !matriculaField.getText().isBlank()&#13;&#10;                &amp;&amp; estadoField != null &amp;&amp; !estadoField.getText().isBlank()&#13;&#10;                &amp;&amp; modeloCombo != null &amp;&amp; modeloCombo.getValue() != null&#13;&#10;                &amp;&amp; empresaCombo != null &amp;&amp; empresaCombo.getValue() != null&#13;&#10;                &amp;&amp; hangarCombo != null &amp;&amp; hangarCombo.getValue() != null;&#13;&#10;    }&#13;&#10;&#13;&#10;    private void refreshTable() {&#13;&#10;        naves.setAll(naveService.findAll());&#13;&#10;        naveTable.refresh();&#13;&#10;        onBuscar();&#13;&#10;    }&#13;&#10;&#13;&#10;    private void fillForm(Nave nave) {&#10;        if (nave == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        matriculaField.setText(nave.getMatricula());&#10;        estadoField.setText(nave.getEstado());&#10;        if (modeloCombo != null &amp;&amp; nave.getModelo() != null) {&#10;            Modelo modelo = modelos.stream()&#10;                    .filter(m -&gt; m.getId().equals(nave.getModelo().getId()))&#10;                    .findFirst()&#10;                    .orElse(null);&#10;            modeloCombo.getSelectionModel().select(modelo);&#10;        }&#10;        if (empresaCombo != null &amp;&amp; nave.getEmpresa() != null) {&#10;            Empresa empresa = empresas.stream()&#10;                    .filter(e -&gt; e.getId().equals(nave.getEmpresa().getId()))&#10;                    .findFirst()&#10;                    .orElse(null);&#10;            empresaCombo.getSelectionModel().select(empresa);&#10;        }&#10;        if (hangarCombo != null &amp;&amp; nave.getHangar() != null) {&#10;            Hangar hangar = hangares.stream()&#10;                    .filter(h -&gt; h.getId().equals(nave.getHangar().getId()))&#10;                    .findFirst()&#10;                    .orElse(null);&#10;            hangarCombo.getSelectionModel().select(hangar);&#10;        }&#10;    }&#13;&#10;&#13;&#10;    private void clearForm() {&#13;&#10;        if (matriculaField != null) {&#13;&#10;            matriculaField.clear();&#13;&#10;        }&#13;&#10;        if (estadoField != null) {&#13;&#10;            estadoField.clear();&#13;&#10;        }&#13;&#10;        if (modeloCombo != null) {&#13;&#10;            modeloCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;        if (empresaCombo != null) {&#13;&#10;            empresaCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;        if (hangarCombo != null) {&#13;&#10;            hangarCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#13;&#10;        Alert alert = new Alert(type);&#13;&#10;        alert.setTitle(title);&#13;&#10;        alert.setHeaderText(null);&#13;&#10;        alert.setContentText(message);&#13;&#10;        alert.showAndWait();&#13;&#10;    }&#13;&#10;&#13;&#10;    private &lt;T&gt; void populateComboBox(ComboBox&lt;T&gt; comboBox,&#13;&#10;                                      ObservableList&lt;T&gt; targetList,&#13;&#10;                                      List&lt;T&gt; source,&#13;&#10;                                      Function&lt;T, String&gt; labelProvider) {&#13;&#10;        if (comboBox == null) {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        targetList.setAll(source);&#13;&#10;        comboBox.setItems(targetList);&#13;&#10;        comboBox.setCellFactory(list -&gt; new ListCell&lt;&gt;() {&#13;&#10;            @Override&#13;&#10;            protected void updateItem(T item, boolean empty) {&#13;&#10;                super.updateItem(item, empty);&#13;&#10;                setText(empty || item == null ? null : labelProvider.apply(item));&#13;&#10;            }&#13;&#10;        });&#13;&#10;        comboBox.setButtonCell(new ListCell&lt;&gt;() {&#13;&#10;            @Override&#13;&#10;            protected void updateItem(T item, boolean empty) {&#13;&#10;                super.updateItem(item, empty);&#13;&#10;                setText(empty || item == null ? null : labelProvider.apply(item));&#13;&#10;            }&#13;&#10;        });&#13;&#10;    }&#13;&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/PersonaController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/PersonaController.java" />
              <option name="originalContent" value="package com.example.hangar.ui.controller;&#10;&#10;import com.example.hangar.model.Persona;&#10;import com.example.hangar.model.Rol;&#10;import com.example.hangar.service.PersonaService;&#10;import com.example.hangar.service.RolService;&#10;import javafx.beans.property.SimpleIntegerProperty;&#10;import javafx.beans.property.SimpleStringProperty;&#10;import javafx.collections.FXCollections;&#10;import javafx.collections.ObservableList;&#10;import javafx.collections.transformation.FilteredList;&#10;import javafx.fxml.FXML;&#10;import javafx.scene.control.Alert;&#10;import javafx.scene.control.ComboBox;&#10;import javafx.scene.control.ListCell;&#10;import javafx.scene.control.TableColumn;&#10;import javafx.scene.control.TableView;&#10;import javafx.scene.control.TextField;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#10;import org.springframework.stereotype.Component;&#10;&#10;@Component&#10;public class PersonaController {&#10;&#10;    private final PersonaService personaService;&#10;    private final RolService rolService;&#10;    private final ObservableList&lt;Persona&gt; personas = FXCollections.observableArrayList();&#10;    private final FilteredList&lt;Persona&gt; filteredPersonas = new FilteredList&lt;&gt;(personas, persona -&gt; true);&#10;    private final ObservableList&lt;Rol&gt; roles = FXCollections.observableArrayList();&#10;&#10;    public PersonaController(PersonaService personaService, RolService rolService) {&#10;        this.personaService = personaService;&#10;        this.rolService = rolService;&#10;    }&#10;&#10;    @FXML&#10;    private TableView&lt;Persona&gt; personaTable;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Persona, String&gt; nombreColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Persona, String&gt; apellidosColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Persona, String&gt; documentoColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Persona, String&gt; rolColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Persona, Number&gt; tripulacionesColumn;&#10;&#10;    @FXML&#10;    private TextField nombresField;&#10;&#10;    @FXML&#10;    private TextField apellidosField;&#10;&#10;    @FXML&#10;    private TextField documentoField;&#10;&#10;    @FXML&#10;    private ComboBox&lt;Rol&gt; rolCombo;&#10;&#10;    @FXML&#10;    private TextField searchField;&#10;&#10;    @FXML&#10;    public void initialize() {&#10;        if (personaTable != null) {&#10;            nombreColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nombres&quot;));&#10;            apellidosColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;apellidos&quot;));&#10;            documentoColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;documento&quot;));&#10;            rolColumn.setCellValueFactory(data -&gt; new SimpleStringProperty(&#10;                    data.getValue().getRol() != null ? data.getValue().getRol().getNombre() : &quot;&quot;));&#10;            tripulacionesColumn.setCellValueFactory(data -&gt; new SimpleIntegerProperty(&#10;                    data.getValue().getTripulaciones() != null ? data.getValue().getTripulaciones().size() : 0));&#10;            personas.setAll(personaService.findAll());&#10;            personaTable.setItems(filteredPersonas);&#10;            personaTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#10;        }&#10;&#10;        if (rolCombo != null) {&#10;            roles.setAll(rolService.findAll());&#10;            rolCombo.setItems(roles);&#10;            rolCombo.setCellFactory(list -&gt; new ListCell&lt;&gt;() {&#10;                @Override&#10;                protected void updateItem(Rol rol, boolean empty) {&#10;                    super.updateItem(rol, empty);&#10;                    setText(empty || rol == null ? null : rol.getNombre());&#10;                }&#10;            });&#10;            rolCombo.setButtonCell(new ListCell&lt;&gt;() {&#10;                @Override&#10;                protected void updateItem(Rol rol, boolean empty) {&#10;                    super.updateItem(rol, empty);&#10;                    setText(empty || rol == null ? null : rol.getNombre());&#10;                }&#10;            });&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onGuardar() {&#10;        if (!isFormValid()) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;Todos los campos son obligatorios.&quot;);&#10;            return;&#10;        }&#10;&#10;        Persona selected = personaTable.getSelectionModel().getSelectedItem();&#10;        Persona persona = selected != null ? personaService.findById(selected.getId()) : new Persona();&#10;        persona.setNombres(nombresField.getText().trim());&#10;        persona.setApellidos(apellidosField.getText().trim());&#10;        persona.setDocumento(documentoField.getText().trim());&#10;        persona.setRol(rolCombo.getValue());&#10;        personaService.save(persona);&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;La persona ha sido guardada correctamente.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onEliminar() {&#10;        Persona selected = personaTable.getSelectionModel().getSelectedItem();&#10;        if (selected == null) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir una persona para eliminarla.&quot;);&#10;            return;&#10;        }&#10;        personaService.delete(selected.getId());&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;La persona seleccionada fue eliminada.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onLimpiar() {&#10;        clearForm();&#10;        personaTable.getSelectionModel().clearSelection();&#10;    }&#10;&#10;    private boolean isFormValid() {&#10;        return nombresField != null &amp;&amp; !nombresField.getText().isBlank()&#10;                &amp;&amp; apellidosField != null &amp;&amp; !apellidosField.getText().isBlank()&#10;                &amp;&amp; documentoField != null &amp;&amp; !documentoField.getText().isBlank()&#10;                &amp;&amp; rolCombo != null &amp;&amp; rolCombo.getValue() != null;&#10;    }&#10;&#10;    private void refreshTable() {&#10;        personas.setAll(personaService.findAll());&#10;        personaTable.refresh();&#10;        onBuscar();&#10;    }&#10;&#10;    private void fillForm(Persona persona) {&#10;        if (persona == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        nombresField.setText(persona.getNombres());&#10;        apellidosField.setText(persona.getApellidos());&#10;        documentoField.setText(persona.getDocumento());&#10;        rolCombo.getSelectionModel().select(persona.getRol());&#10;    }&#10;&#10;    private void clearForm() {&#10;        if (nombresField != null) {&#10;            nombresField.clear();&#10;        }&#10;        if (apellidosField != null) {&#10;            apellidosField.clear();&#10;        }&#10;        if (documentoField != null) {&#10;            documentoField.clear();&#10;        }&#10;        if (rolCombo != null) {&#10;            rolCombo.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onBuscar() {&#10;        if (searchField == null) {&#10;            return;&#10;        }&#10;        String term = searchField.getText();&#10;        if (term == null || term.isBlank()) {&#10;            filteredPersonas.setPredicate(persona -&gt; true);&#10;            return;&#10;        }&#10;        String normalized = term.trim().toLowerCase();&#10;        filteredPersonas.setPredicate(persona -&gt; {&#10;            if (persona == null) {&#10;                return false;&#10;            }&#10;            boolean matchesNombre = persona.getNombres() != null &amp;&amp; persona.getNombres().toLowerCase().contains(normalized);&#10;            boolean matchesApellido = persona.getApellidos() != null &amp;&amp; persona.getApellidos().toLowerCase().contains(normalized);&#10;            boolean matchesDocumento = persona.getDocumento() != null &amp;&amp; persona.getDocumento().toLowerCase().contains(normalized);&#10;            boolean matchesRol = persona.getRol() != null &amp;&amp; persona.getRol().getNombre() != null&#10;                    &amp;&amp; persona.getRol().getNombre().toLowerCase().contains(normalized);&#10;            return matchesNombre || matchesApellido || matchesDocumento || matchesRol;&#10;        });&#10;    }&#10;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#10;        Alert alert = new Alert(type);&#10;        alert.setTitle(title);&#10;        alert.setHeaderText(null);&#10;        alert.setContentText(message);&#10;        alert.showAndWait();&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.hangar.ui.controller;&#13;&#10;&#13;&#10;import com.example.hangar.model.Persona;&#13;&#10;import com.example.hangar.model.Rol;&#13;&#10;import com.example.hangar.service.PersonaService;&#13;&#10;import com.example.hangar.service.RolService;&#13;&#10;import javafx.beans.property.SimpleIntegerProperty;&#13;&#10;import javafx.beans.property.SimpleStringProperty;&#13;&#10;import javafx.collections.FXCollections;&#13;&#10;import javafx.collections.ObservableList;&#13;&#10;import javafx.collections.transformation.FilteredList;&#13;&#10;import javafx.fxml.FXML;&#13;&#10;import javafx.scene.control.Alert;&#13;&#10;import javafx.scene.control.ComboBox;&#13;&#10;import javafx.scene.control.ListCell;&#13;&#10;import javafx.scene.control.TableColumn;&#13;&#10;import javafx.scene.control.TableView;&#13;&#10;import javafx.scene.control.TextField;&#13;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#13;&#10;import org.springframework.stereotype.Component;&#13;&#10;&#13;&#10;@Component&#13;&#10;public class PersonaController {&#13;&#10;&#13;&#10;    private final PersonaService personaService;&#13;&#10;    private final RolService rolService;&#13;&#10;    private final ObservableList&lt;Persona&gt; personas = FXCollections.observableArrayList();&#13;&#10;    private final FilteredList&lt;Persona&gt; filteredPersonas = new FilteredList&lt;&gt;(personas, persona -&gt; true);&#13;&#10;    private final ObservableList&lt;Rol&gt; roles = FXCollections.observableArrayList();&#13;&#10;&#13;&#10;    public PersonaController(PersonaService personaService, RolService rolService) {&#13;&#10;        this.personaService = personaService;&#13;&#10;        this.rolService = rolService;&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableView&lt;Persona&gt; personaTable;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Persona, String&gt; nombreColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Persona, String&gt; apellidosColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Persona, String&gt; documentoColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Persona, String&gt; rolColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Persona, Number&gt; tripulacionesColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField nombresField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField apellidosField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField documentoField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private ComboBox&lt;Rol&gt; rolCombo;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField searchField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    public void initialize() {&#13;&#10;        if (personaTable != null) {&#13;&#10;            nombreColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nombres&quot;));&#13;&#10;            apellidosColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;apellidos&quot;));&#13;&#10;            documentoColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;documento&quot;));&#13;&#10;            rolColumn.setCellValueFactory(data -&gt; new SimpleStringProperty(&#13;&#10;                    data.getValue().getRol() != null ? data.getValue().getRol().getNombre() : &quot;&quot;));&#13;&#10;            tripulacionesColumn.setCellValueFactory(data -&gt; new SimpleIntegerProperty(&#13;&#10;                    data.getValue().getTripulaciones() != null ? data.getValue().getTripulaciones().size() : 0));&#13;&#10;            personas.setAll(personaService.findAll());&#13;&#10;            personaTable.setItems(filteredPersonas);&#13;&#10;            personaTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#13;&#10;        }&#13;&#10;&#13;&#10;        if (rolCombo != null) {&#13;&#10;            roles.setAll(rolService.findAll());&#13;&#10;            rolCombo.setItems(roles);&#13;&#10;            rolCombo.setCellFactory(list -&gt; new ListCell&lt;&gt;() {&#13;&#10;                @Override&#13;&#10;                protected void updateItem(Rol rol, boolean empty) {&#13;&#10;                    super.updateItem(rol, empty);&#13;&#10;                    setText(empty || rol == null ? null : rol.getNombre());&#13;&#10;                }&#13;&#10;            });&#13;&#10;            rolCombo.setButtonCell(new ListCell&lt;&gt;() {&#13;&#10;                @Override&#13;&#10;                protected void updateItem(Rol rol, boolean empty) {&#13;&#10;                    super.updateItem(rol, empty);&#13;&#10;                    setText(empty || rol == null ? null : rol.getNombre());&#13;&#10;                }&#13;&#10;            });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onGuardar() {&#13;&#10;        if (!isFormValid()) {&#13;&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;Todos los campos son obligatorios.&quot;);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;&#13;&#10;        Persona selected = personaTable.getSelectionModel().getSelectedItem();&#13;&#10;        Persona persona = selected != null ? personaService.findById(selected.getId()) : new Persona();&#13;&#10;        persona.setNombres(nombresField.getText().trim());&#13;&#10;        persona.setApellidos(apellidosField.getText().trim());&#13;&#10;        persona.setDocumento(documentoField.getText().trim());&#13;&#10;        persona.setRol(rolCombo.getValue());&#13;&#10;        personaService.save(persona);&#13;&#10;        refreshTable();&#13;&#10;        clearForm();&#13;&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;La persona ha sido guardada correctamente.&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onEliminar() {&#13;&#10;        Persona selected = personaTable.getSelectionModel().getSelectedItem();&#13;&#10;        if (selected == null) {&#13;&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir una persona para eliminarla.&quot;);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        personaService.delete(selected.getId());&#13;&#10;        refreshTable();&#13;&#10;        clearForm();&#13;&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;La persona seleccionada fue eliminada.&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onLimpiar() {&#13;&#10;        clearForm();&#13;&#10;        personaTable.getSelectionModel().clearSelection();&#13;&#10;    }&#13;&#10;&#13;&#10;    private boolean isFormValid() {&#13;&#10;        return nombresField != null &amp;&amp; !nombresField.getText().isBlank()&#13;&#10;                &amp;&amp; apellidosField != null &amp;&amp; !apellidosField.getText().isBlank()&#13;&#10;                &amp;&amp; documentoField != null &amp;&amp; !documentoField.getText().isBlank()&#13;&#10;                &amp;&amp; rolCombo != null &amp;&amp; rolCombo.getValue() != null;&#13;&#10;    }&#13;&#10;&#13;&#10;    private void refreshTable() {&#13;&#10;        personas.setAll(personaService.findAll());&#13;&#10;        personaTable.refresh();&#13;&#10;        onBuscar();&#13;&#10;    }&#13;&#10;&#13;&#10;    private void fillForm(Persona persona) {&#10;        if (persona == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        nombresField.setText(persona.getNombres());&#10;        apellidosField.setText(persona.getApellidos());&#10;        documentoField.setText(persona.getDocumento());&#10;        if (rolCombo != null &amp;&amp; persona.getRol() != null) {&#10;            Rol rol = roles.stream()&#10;                    .filter(r -&gt; r.getId().equals(persona.getRol().getId()))&#10;                    .findFirst()&#10;                    .orElse(null);&#10;            rolCombo.getSelectionModel().select(rol);&#10;        }&#10;    }&#13;&#10;&#13;&#10;    private void clearForm() {&#13;&#10;        if (nombresField != null) {&#13;&#10;            nombresField.clear();&#13;&#10;        }&#13;&#10;        if (apellidosField != null) {&#13;&#10;            apellidosField.clear();&#13;&#10;        }&#13;&#10;        if (documentoField != null) {&#13;&#10;            documentoField.clear();&#13;&#10;        }&#13;&#10;        if (rolCombo != null) {&#13;&#10;            rolCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onBuscar() {&#13;&#10;        if (searchField == null) {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        String term = searchField.getText();&#13;&#10;        if (term == null || term.isBlank()) {&#13;&#10;            filteredPersonas.setPredicate(persona -&gt; true);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        String normalized = term.trim().toLowerCase();&#13;&#10;        filteredPersonas.setPredicate(persona -&gt; {&#13;&#10;            if (persona == null) {&#13;&#10;                return false;&#13;&#10;            }&#13;&#10;            boolean matchesNombre = persona.getNombres() != null &amp;&amp; persona.getNombres().toLowerCase().contains(normalized);&#13;&#10;            boolean matchesApellido = persona.getApellidos() != null &amp;&amp; persona.getApellidos().toLowerCase().contains(normalized);&#13;&#10;            boolean matchesDocumento = persona.getDocumento() != null &amp;&amp; persona.getDocumento().toLowerCase().contains(normalized);&#13;&#10;            boolean matchesRol = persona.getRol() != null &amp;&amp; persona.getRol().getNombre() != null&#13;&#10;                    &amp;&amp; persona.getRol().getNombre().toLowerCase().contains(normalized);&#13;&#10;            return matchesNombre || matchesApellido || matchesDocumento || matchesRol;&#13;&#10;        });&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#13;&#10;        Alert alert = new Alert(type);&#13;&#10;        alert.setTitle(title);&#13;&#10;        alert.setHeaderText(null);&#13;&#10;        alert.setContentText(message);&#13;&#10;        alert.showAndWait();&#13;&#10;    }&#13;&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/PilotoController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/PilotoController.java" />
              <option name="originalContent" value="package com.example.hangar.ui.controller;&#10;&#10;import com.example.hangar.model.Piloto;&#10;import com.example.hangar.model.Rol;&#10;import com.example.hangar.service.PilotoService;&#10;import com.example.hangar.service.RolService;&#10;import javafx.beans.property.SimpleIntegerProperty;&#10;import javafx.beans.property.SimpleStringProperty;&#10;import javafx.collections.FXCollections;&#10;import javafx.collections.ObservableList;&#10;import javafx.collections.transformation.FilteredList;&#10;import javafx.fxml.FXML;&#10;import javafx.scene.control.Alert;&#10;import javafx.scene.control.ComboBox;&#10;import javafx.scene.control.ListCell;&#10;import javafx.scene.control.TableColumn;&#10;import javafx.scene.control.TableView;&#10;import javafx.scene.control.TextField;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#10;import org.springframework.stereotype.Component;&#10;&#10;@Component&#10;public class PilotoController {&#10;&#10;    private final PilotoService pilotoService;&#10;    private final RolService rolService;&#10;    private final ObservableList&lt;Piloto&gt; pilotos = FXCollections.observableArrayList();&#10;    private final FilteredList&lt;Piloto&gt; filteredPilotos = new FilteredList&lt;&gt;(pilotos, piloto -&gt; true);&#10;    private final ObservableList&lt;Rol&gt; roles = FXCollections.observableArrayList();&#10;&#10;    public PilotoController(PilotoService pilotoService, RolService rolService) {&#10;        this.pilotoService = pilotoService;&#10;        this.rolService = rolService;&#10;    }&#10;&#10;    @FXML&#10;    private TableView&lt;Piloto&gt; pilotoTable;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Piloto, String&gt; nombreColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Piloto, String&gt; apellidosColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Piloto, String&gt; documentoColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Piloto, String&gt; licenciaColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Piloto, String&gt; experienciaColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Piloto, String&gt; rolColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Piloto, Number&gt; tripulacionesColumn;&#10;&#10;    @FXML&#10;    private ComboBox&lt;Rol&gt; rolCombo;&#10;&#10;    @FXML&#10;    private TextField nombresField;&#10;&#10;    @FXML&#10;    private TextField apellidosField;&#10;&#10;    @FXML&#10;    private TextField documentoField;&#10;&#10;    @FXML&#10;    private TextField licenciaField;&#10;&#10;    @FXML&#10;    private TextField experienciaField;&#10;&#10;    @FXML&#10;    private TextField searchField;&#10;&#10;    @FXML&#10;    public void initialize() {&#10;        if (pilotoTable != null) {&#10;            nombreColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nombres&quot;));&#10;            apellidosColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;apellidos&quot;));&#10;            documentoColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;documento&quot;));&#10;            licenciaColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;licencia&quot;));&#10;            experienciaColumn.setCellValueFactory(piloto -&gt; new SimpleStringProperty(&#10;                    piloto.getValue().getExperiencia() != null ? piloto.getValue().getExperiencia() : &quot;&quot;));&#10;            rolColumn.setCellValueFactory(piloto -&gt; new SimpleStringProperty(&#10;                    piloto.getValue().getRol() != null ? piloto.getValue().getRol().getNombre() : &quot;&quot;));&#10;            tripulacionesColumn.setCellValueFactory(piloto -&gt; new SimpleIntegerProperty(&#10;                    piloto.getValue().getTripulaciones() != null ? piloto.getValue().getTripulaciones().size() : 0));&#10;            pilotos.setAll(pilotoService.findAll());&#10;            pilotoTable.setItems(filteredPilotos);&#10;            pilotoTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#10;        }&#10;&#10;        if (rolCombo != null) {&#10;            roles.setAll(rolService.findAll());&#10;            rolCombo.setItems(roles);&#10;            rolCombo.setCellFactory(list -&gt; new ListCell&lt;&gt;() {&#10;                @Override&#10;                protected void updateItem(Rol rol, boolean empty) {&#10;                    super.updateItem(rol, empty);&#10;                    setText(empty || rol == null ? null : rol.getNombre());&#10;                }&#10;            });&#10;            rolCombo.setButtonCell(new ListCell&lt;&gt;() {&#10;                @Override&#10;                protected void updateItem(Rol rol, boolean empty) {&#10;                    super.updateItem(rol, empty);&#10;                    setText(empty || rol == null ? null : rol.getNombre());&#10;                }&#10;            });&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onGuardar() {&#10;        if (!isFormValid()) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;Todos los campos son obligatorios.&quot;);&#10;            return;&#10;        }&#10;        Piloto selected = pilotoTable.getSelectionModel().getSelectedItem();&#10;        Piloto piloto = selected != null ? pilotoService.findById(selected.getId()) : new Piloto();&#10;        piloto.setNombres(nombresField.getText().trim());&#10;        piloto.setApellidos(apellidosField.getText().trim());&#10;        piloto.setDocumento(documentoField.getText().trim());&#10;        piloto.setLicencia(licenciaField.getText().trim());&#10;        piloto.setExperiencia(experienciaField.getText().trim());&#10;        piloto.setRol(rolCombo.getValue());&#10;        pilotoService.save(piloto);&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;El piloto ha sido guardado correctamente.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onEliminar() {&#10;        Piloto selected = pilotoTable.getSelectionModel().getSelectedItem();&#10;        if (selected == null) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir un piloto para eliminarlo.&quot;);&#10;            return;&#10;        }&#10;        pilotoService.delete(selected.getId());&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;El piloto seleccionado fue eliminado.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onLimpiar() {&#10;        clearForm();&#10;        if (pilotoTable != null) {&#10;            pilotoTable.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onBuscar() {&#10;        if (searchField == null) {&#10;            return;&#10;        }&#10;        String term = searchField.getText();&#10;        if (term == null || term.isBlank()) {&#10;            filteredPilotos.setPredicate(piloto -&gt; true);&#10;            return;&#10;        }&#10;        String normalized = term.trim().toLowerCase();&#10;        filteredPilotos.setPredicate(piloto -&gt; {&#10;            if (piloto == null) {&#10;                return false;&#10;            }&#10;            boolean matchNombre = piloto.getNombres() != null &amp;&amp; piloto.getNombres().toLowerCase().contains(normalized);&#10;            boolean matchApellido = piloto.getApellidos() != null &amp;&amp; piloto.getApellidos().toLowerCase().contains(normalized);&#10;            boolean matchDocumento = piloto.getDocumento() != null &amp;&amp; piloto.getDocumento().toLowerCase().contains(normalized);&#10;            boolean matchLicencia = piloto.getLicencia() != null &amp;&amp; piloto.getLicencia().toLowerCase().contains(normalized);&#10;            boolean matchExperiencia = piloto.getExperiencia() != null &amp;&amp; piloto.getExperiencia().toLowerCase().contains(normalized);&#10;            return matchNombre || matchApellido || matchDocumento || matchLicencia || matchExperiencia;&#10;        });&#10;    }&#10;&#10;    private boolean isFormValid() {&#10;        return nombresField != null &amp;&amp; !nombresField.getText().isBlank()&#10;                &amp;&amp; apellidosField != null &amp;&amp; !apellidosField.getText().isBlank()&#10;                &amp;&amp; documentoField != null &amp;&amp; !documentoField.getText().isBlank()&#10;                &amp;&amp; licenciaField != null &amp;&amp; !licenciaField.getText().isBlank()&#10;                &amp;&amp; experienciaField != null &amp;&amp; !experienciaField.getText().isBlank()&#10;                &amp;&amp; rolCombo != null &amp;&amp; rolCombo.getValue() != null;&#10;    }&#10;&#10;    private void refreshTable() {&#10;        pilotos.setAll(pilotoService.findAll());&#10;        pilotoTable.refresh();&#10;        onBuscar();&#10;    }&#10;&#10;    private void fillForm(Piloto piloto) {&#10;        if (piloto == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        nombresField.setText(piloto.getNombres());&#10;        apellidosField.setText(piloto.getApellidos());&#10;        documentoField.setText(piloto.getDocumento());&#10;        licenciaField.setText(piloto.getLicencia());&#10;        experienciaField.setText(piloto.getExperiencia());&#10;        if (rolCombo != null) {&#10;            rolCombo.getSelectionModel().select(piloto.getRol());&#10;        }&#10;    }&#10;&#10;    private void clearForm() {&#10;        if (nombresField != null) {&#10;            nombresField.clear();&#10;        }&#10;        if (apellidosField != null) {&#10;            apellidosField.clear();&#10;        }&#10;        if (documentoField != null) {&#10;            documentoField.clear();&#10;        }&#10;        if (licenciaField != null) {&#10;            licenciaField.clear();&#10;        }&#10;        if (experienciaField != null) {&#10;            experienciaField.clear();&#10;        }&#10;        if (rolCombo != null) {&#10;            rolCombo.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#10;        Alert alert = new Alert(type);&#10;        alert.setTitle(title);&#10;        alert.setHeaderText(null);&#10;        alert.setContentText(message);&#10;        alert.showAndWait();&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.hangar.ui.controller;&#13;&#10;&#13;&#10;import com.example.hangar.model.Piloto;&#13;&#10;import com.example.hangar.model.Rol;&#13;&#10;import com.example.hangar.service.PilotoService;&#13;&#10;import com.example.hangar.service.RolService;&#13;&#10;import javafx.beans.property.SimpleIntegerProperty;&#13;&#10;import javafx.beans.property.SimpleStringProperty;&#13;&#10;import javafx.collections.FXCollections;&#13;&#10;import javafx.collections.ObservableList;&#13;&#10;import javafx.collections.transformation.FilteredList;&#13;&#10;import javafx.fxml.FXML;&#13;&#10;import javafx.scene.control.Alert;&#13;&#10;import javafx.scene.control.ComboBox;&#13;&#10;import javafx.scene.control.ListCell;&#13;&#10;import javafx.scene.control.TableColumn;&#13;&#10;import javafx.scene.control.TableView;&#13;&#10;import javafx.scene.control.TextField;&#13;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#13;&#10;import org.springframework.stereotype.Component;&#13;&#10;&#13;&#10;@Component&#13;&#10;public class PilotoController {&#13;&#10;&#13;&#10;    private final PilotoService pilotoService;&#13;&#10;    private final RolService rolService;&#13;&#10;    private final ObservableList&lt;Piloto&gt; pilotos = FXCollections.observableArrayList();&#13;&#10;    private final FilteredList&lt;Piloto&gt; filteredPilotos = new FilteredList&lt;&gt;(pilotos, piloto -&gt; true);&#13;&#10;    private final ObservableList&lt;Rol&gt; roles = FXCollections.observableArrayList();&#13;&#10;&#13;&#10;    public PilotoController(PilotoService pilotoService, RolService rolService) {&#13;&#10;        this.pilotoService = pilotoService;&#13;&#10;        this.rolService = rolService;&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableView&lt;Piloto&gt; pilotoTable;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Piloto, String&gt; nombreColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Piloto, String&gt; apellidosColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Piloto, String&gt; documentoColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Piloto, String&gt; licenciaColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Piloto, String&gt; experienciaColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Piloto, String&gt; rolColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Piloto, Number&gt; tripulacionesColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private ComboBox&lt;Rol&gt; rolCombo;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField nombresField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField apellidosField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField documentoField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField licenciaField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField experienciaField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField searchField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    public void initialize() {&#13;&#10;        if (pilotoTable != null) {&#13;&#10;            nombreColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nombres&quot;));&#13;&#10;            apellidosColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;apellidos&quot;));&#13;&#10;            documentoColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;documento&quot;));&#13;&#10;            licenciaColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;licencia&quot;));&#13;&#10;            experienciaColumn.setCellValueFactory(piloto -&gt; new SimpleStringProperty(&#13;&#10;                    piloto.getValue().getExperiencia() != null ? piloto.getValue().getExperiencia() : &quot;&quot;));&#13;&#10;            rolColumn.setCellValueFactory(piloto -&gt; new SimpleStringProperty(&#13;&#10;                    piloto.getValue().getRol() != null ? piloto.getValue().getRol().getNombre() : &quot;&quot;));&#13;&#10;            tripulacionesColumn.setCellValueFactory(piloto -&gt; new SimpleIntegerProperty(&#13;&#10;                    piloto.getValue().getTripulaciones() != null ? piloto.getValue().getTripulaciones().size() : 0));&#13;&#10;            pilotos.setAll(pilotoService.findAll());&#13;&#10;            pilotoTable.setItems(filteredPilotos);&#13;&#10;            pilotoTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#13;&#10;        }&#13;&#10;&#13;&#10;        if (rolCombo != null) {&#13;&#10;            roles.setAll(rolService.findAll());&#13;&#10;            rolCombo.setItems(roles);&#13;&#10;            rolCombo.setCellFactory(list -&gt; new ListCell&lt;&gt;() {&#13;&#10;                @Override&#13;&#10;                protected void updateItem(Rol rol, boolean empty) {&#13;&#10;                    super.updateItem(rol, empty);&#13;&#10;                    setText(empty || rol == null ? null : rol.getNombre());&#13;&#10;                }&#13;&#10;            });&#13;&#10;            rolCombo.setButtonCell(new ListCell&lt;&gt;() {&#13;&#10;                @Override&#13;&#10;                protected void updateItem(Rol rol, boolean empty) {&#13;&#10;                    super.updateItem(rol, empty);&#13;&#10;                    setText(empty || rol == null ? null : rol.getNombre());&#13;&#10;                }&#13;&#10;            });&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onGuardar() {&#13;&#10;        if (!isFormValid()) {&#13;&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;Todos los campos son obligatorios.&quot;);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        Piloto selected = pilotoTable.getSelectionModel().getSelectedItem();&#13;&#10;        Piloto piloto = selected != null ? pilotoService.findById(selected.getId()) : new Piloto();&#13;&#10;        piloto.setNombres(nombresField.getText().trim());&#13;&#10;        piloto.setApellidos(apellidosField.getText().trim());&#13;&#10;        piloto.setDocumento(documentoField.getText().trim());&#13;&#10;        piloto.setLicencia(licenciaField.getText().trim());&#13;&#10;        piloto.setExperiencia(experienciaField.getText().trim());&#13;&#10;        piloto.setRol(rolCombo.getValue());&#13;&#10;        pilotoService.save(piloto);&#13;&#10;        refreshTable();&#13;&#10;        clearForm();&#13;&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;El piloto ha sido guardado correctamente.&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onEliminar() {&#13;&#10;        Piloto selected = pilotoTable.getSelectionModel().getSelectedItem();&#13;&#10;        if (selected == null) {&#13;&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir un piloto para eliminarlo.&quot;);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        pilotoService.delete(selected.getId());&#13;&#10;        refreshTable();&#13;&#10;        clearForm();&#13;&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;El piloto seleccionado fue eliminado.&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onLimpiar() {&#13;&#10;        clearForm();&#13;&#10;        if (pilotoTable != null) {&#13;&#10;            pilotoTable.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onBuscar() {&#13;&#10;        if (searchField == null) {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        String term = searchField.getText();&#13;&#10;        if (term == null || term.isBlank()) {&#13;&#10;            filteredPilotos.setPredicate(piloto -&gt; true);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        String normalized = term.trim().toLowerCase();&#13;&#10;        filteredPilotos.setPredicate(piloto -&gt; {&#13;&#10;            if (piloto == null) {&#13;&#10;                return false;&#13;&#10;            }&#13;&#10;            boolean matchNombre = piloto.getNombres() != null &amp;&amp; piloto.getNombres().toLowerCase().contains(normalized);&#13;&#10;            boolean matchApellido = piloto.getApellidos() != null &amp;&amp; piloto.getApellidos().toLowerCase().contains(normalized);&#13;&#10;            boolean matchDocumento = piloto.getDocumento() != null &amp;&amp; piloto.getDocumento().toLowerCase().contains(normalized);&#13;&#10;            boolean matchLicencia = piloto.getLicencia() != null &amp;&amp; piloto.getLicencia().toLowerCase().contains(normalized);&#13;&#10;            boolean matchExperiencia = piloto.getExperiencia() != null &amp;&amp; piloto.getExperiencia().toLowerCase().contains(normalized);&#13;&#10;            return matchNombre || matchApellido || matchDocumento || matchLicencia || matchExperiencia;&#13;&#10;        });&#13;&#10;    }&#13;&#10;&#13;&#10;    private boolean isFormValid() {&#13;&#10;        return nombresField != null &amp;&amp; !nombresField.getText().isBlank()&#13;&#10;                &amp;&amp; apellidosField != null &amp;&amp; !apellidosField.getText().isBlank()&#13;&#10;                &amp;&amp; documentoField != null &amp;&amp; !documentoField.getText().isBlank()&#13;&#10;                &amp;&amp; licenciaField != null &amp;&amp; !licenciaField.getText().isBlank()&#13;&#10;                &amp;&amp; experienciaField != null &amp;&amp; !experienciaField.getText().isBlank()&#13;&#10;                &amp;&amp; rolCombo != null &amp;&amp; rolCombo.getValue() != null;&#13;&#10;    }&#13;&#10;&#13;&#10;    private void refreshTable() {&#13;&#10;        pilotos.setAll(pilotoService.findAll());&#13;&#10;        pilotoTable.refresh();&#13;&#10;        onBuscar();&#13;&#10;    }&#13;&#10;&#13;&#10;    private void fillForm(Piloto piloto) {&#10;        if (piloto == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        nombresField.setText(piloto.getNombres());&#10;        apellidosField.setText(piloto.getApellidos());&#10;        documentoField.setText(piloto.getDocumento());&#10;        licenciaField.setText(piloto.getLicencia());&#10;        experienciaField.setText(piloto.getExperiencia());&#10;        if (rolCombo != null &amp;&amp; piloto.getRol() != null) {&#10;            Rol rol = roles.stream()&#10;                    .filter(r -&gt; r.getId().equals(piloto.getRol().getId()))&#10;                    .findFirst()&#10;                    .orElse(null);&#10;            rolCombo.getSelectionModel().select(rol);&#10;        }&#10;    }&#13;&#10;&#13;&#10;    private void clearForm() {&#13;&#10;        if (nombresField != null) {&#13;&#10;            nombresField.clear();&#13;&#10;        }&#13;&#10;        if (apellidosField != null) {&#13;&#10;            apellidosField.clear();&#13;&#10;        }&#13;&#10;        if (documentoField != null) {&#13;&#10;            documentoField.clear();&#13;&#10;        }&#13;&#10;        if (licenciaField != null) {&#13;&#10;            licenciaField.clear();&#13;&#10;        }&#13;&#10;        if (experienciaField != null) {&#13;&#10;            experienciaField.clear();&#13;&#10;        }&#13;&#10;        if (rolCombo != null) {&#13;&#10;            rolCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#13;&#10;        Alert alert = new Alert(type);&#13;&#10;        alert.setTitle(title);&#13;&#10;        alert.setHeaderText(null);&#13;&#10;        alert.setContentText(message);&#13;&#10;        alert.showAndWait();&#13;&#10;    }&#13;&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/ReporteController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/ReporteController.java" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="package com.example.hangar.ui.controller;&#10;&#10;import com.example.hangar.model.Nave;&#10;import com.example.hangar.model.Reporte;&#10;import com.example.hangar.model.Taller;&#10;import com.example.hangar.service.NaveService;&#10;import com.example.hangar.service.ReporteService;&#10;import com.example.hangar.service.TallerService;&#10;import javafx.beans.property.SimpleStringProperty;&#10;import javafx.collections.FXCollections;&#10;import javafx.collections.ObservableList;&#10;import javafx.collections.transformation.FilteredList;&#10;import javafx.fxml.FXML;&#10;import javafx.scene.control.Alert;&#10;import javafx.scene.control.ComboBox;&#10;import javafx.scene.control.ListCell;&#10;import javafx.scene.control.TableColumn;&#10;import javafx.scene.control.TableView;&#10;import javafx.scene.control.TextArea;&#10;import javafx.scene.control.TextField;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#10;import org.springframework.stereotype.Component;&#10;&#10;import java.time.LocalDateTime;&#10;import java.time.format.DateTimeFormatter;&#10;import java.util.List;&#10;import java.util.function.Function;&#10;&#10;@Component&#10;public class ReporteController {&#10;&#10;    private final ReporteService reporteService;&#10;    private final TallerService tallerService;&#10;    private final NaveService naveService;&#10;    private final ObservableList&lt;Reporte&gt; reportes = FXCollections.observableArrayList();&#10;    private final FilteredList&lt;Reporte&gt; filteredReportes = new FilteredList&lt;&gt;(reportes, reporte -&gt; true);&#10;    private final ObservableList&lt;Taller&gt; talleres = FXCollections.observableArrayList();&#10;    private final ObservableList&lt;Nave&gt; naves = FXCollections.observableArrayList();&#10;    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm&quot;);&#10;&#10;    public ReporteController(ReporteService reporteService,&#10;                             TallerService tallerService,&#10;                             NaveService naveService) {&#10;        this.reporteService = reporteService;&#10;        this.tallerService = tallerService;&#10;        this.naveService = naveService;&#10;    }&#10;&#10;    @FXML&#10;    private TableView&lt;Reporte&gt; reporteTable;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Reporte, Long&gt; idColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Reporte, String&gt; tituloColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Reporte, String&gt; descripcionColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Reporte, String&gt; fechaColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Reporte, String&gt; tallerColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Reporte, String&gt; naveColumn;&#10;&#10;    @FXML&#10;    private TextField tituloField;&#10;&#10;    @FXML&#10;    private TextArea descripcionArea;&#10;&#10;    @FXML&#10;    private ComboBox&lt;Taller&gt; tallerCombo;&#10;&#10;    @FXML&#10;    private ComboBox&lt;Nave&gt; naveCombo;&#10;&#10;    @FXML&#10;    private TextField searchField;&#10;&#10;    @FXML&#10;    public void initialize() {&#10;        if (reporteTable != null) {&#10;            idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#10;            tituloColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;titulo&quot;));&#10;            descripcionColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;descripcion&quot;));&#10;            fechaColumn.setCellValueFactory(cellData -&gt; {&#10;                LocalDateTime fecha = cellData.getValue().getFechaRegistro();&#10;                return new SimpleStringProperty(fecha != null ? fecha.format(DATE_FORMATTER) : &quot;&quot;);&#10;            });&#10;            tallerColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(&#10;                    cellData.getValue().getTaller() != null ? cellData.getValue().getTaller().getNombre() : &quot;&quot;));&#10;            naveColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(&#10;                    cellData.getValue().getNave() != null ? cellData.getValue().getNave().getMatricula() : &quot;&quot;));&#10;            reportes.setAll(reporteService.findAll());&#10;            reporteTable.setItems(filteredReportes);&#10;            reporteTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#10;        }&#10;&#10;        populateComboBox(tallerCombo, talleres, tallerService.findAll(), Taller::getNombre);&#10;        populateComboBox(naveCombo, naves, naveService.findAll(), Nave::getMatricula);&#10;    }&#10;&#10;    @FXML&#10;    private void onGuardar() {&#10;        if (!isFormValid()) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;El título, taller y nave son obligatorios.&quot;);&#10;            return;&#10;        }&#10;        Reporte selected = reporteTable.getSelectionModel().getSelectedItem();&#10;        Reporte reporte = selected != null ? reporteService.findById(selected.getId()) : new Reporte();&#10;        reporte.setTitulo(tituloField.getText().trim());&#10;        reporte.setDescripcion(descripcionArea.getText() != null ? descripcionArea.getText().trim() : &quot;&quot;);&#10;        reporte.setTaller(tallerCombo.getValue());&#10;        reporte.setNave(naveCombo.getValue());&#10;        if (reporte.getId() == null) {&#10;            reporte.setFechaRegistro(LocalDateTime.now());&#10;        }&#10;        reporteService.save(reporte);&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;El reporte ha sido guardado correctamente.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onEliminar() {&#10;        Reporte selected = reporteTable.getSelectionModel().getSelectedItem();&#10;        if (selected == null) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir un reporte para eliminarlo.&quot;);&#10;            return;&#10;        }&#10;        reporteService.delete(selected.getId());&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;El reporte seleccionado fue eliminado.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onLimpiar() {&#10;        clearForm();&#10;        if (reporteTable != null) {&#10;            reporteTable.getSelectionModel().clearSelection();&#10;        }&#10;        if (tallerCombo != null) {&#10;            tallerCombo.getSelectionModel().clearSelection();&#10;        }&#10;        if (naveCombo != null) {&#10;            naveCombo.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onBuscar() {&#10;        if (searchField == null) {&#10;            return;&#10;        }&#10;        String term = searchField.getText();&#10;        if (term == null || term.isBlank()) {&#10;            filteredReportes.setPredicate(reporte -&gt; true);&#10;            return;&#10;        }&#10;        String normalized = term.trim().toLowerCase();&#10;        filteredReportes.setPredicate(reporte -&gt; {&#10;            if (reporte == null) {&#10;                return false;&#10;            }&#10;            boolean matchesTitulo = reporte.getTitulo() != null &amp;&amp; reporte.getTitulo().toLowerCase().contains(normalized);&#10;            boolean matchesDescripcion = reporte.getDescripcion() != null &amp;&amp; reporte.getDescripcion().toLowerCase().contains(normalized);&#10;            return matchesTitulo || matchesDescripcion;&#10;        });&#10;    }&#10;&#10;    private boolean isFormValid() {&#10;        return tituloField != null &amp;&amp; !tituloField.getText().isBlank()&#10;                &amp;&amp; tallerCombo != null &amp;&amp; tallerCombo.getValue() != null&#10;                &amp;&amp; naveCombo != null &amp;&amp; naveCombo.getValue() != null;&#10;    }&#10;&#10;    private void refreshTable() {&#10;        reportes.setAll(reporteService.findAll());&#10;        reporteTable.refresh();&#10;        onBuscar();&#10;    }&#10;&#10;    private void fillForm(Reporte reporte) {&#10;        if (reporte == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        tituloField.setText(reporte.getTitulo());&#10;        descripcionArea.setText(reporte.getDescripcion());&#10;        if (tallerCombo != null &amp;&amp; reporte.getTaller() != null) {&#10;            Taller taller = talleres.stream()&#10;                    .filter(t -&gt; t.getId().equals(reporte.getTaller().getId()))&#10;                    .findFirst()&#10;                    .orElse(null);&#10;            tallerCombo.getSelectionModel().select(taller);&#10;        }&#10;        if (naveCombo != null &amp;&amp; reporte.getNave() != null) {&#10;            Nave nave = naves.stream()&#10;                    .filter(n -&gt; n.getId().equals(reporte.getNave().getId()))&#10;                    .findFirst()&#10;                    .orElse(null);&#10;            naveCombo.getSelectionModel().select(nave);&#10;        }&#10;    }&#10;&#10;    private void clearForm() {&#10;        if (tituloField != null) {&#10;            tituloField.clear();&#10;        }&#10;        if (descripcionArea != null) {&#10;            descripcionArea.clear();&#10;        }&#10;        if (tallerCombo != null) {&#10;            tallerCombo.getSelectionModel().clearSelection();&#10;        }&#10;        if (naveCombo != null) {&#10;            naveCombo.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#10;        Alert alert = new Alert(type);&#10;        alert.setTitle(title);&#10;        alert.setHeaderText(null);&#10;        alert.setContentText(message);&#10;        alert.showAndWait();&#10;    }&#10;&#10;    private &lt;T&gt; void populateComboBox(ComboBox&lt;T&gt; comboBox,&#10;                                      ObservableList&lt;T&gt; targetList,&#10;                                      List&lt;T&gt; source,&#10;                                      Function&lt;T, String&gt; labelProvider) {&#10;        if (comboBox == null) {&#10;            return;&#10;        }&#10;        targetList.setAll(source);&#10;        comboBox.setItems(targetList);&#10;        comboBox.setCellFactory(list -&gt; new ListCell&lt;&gt;() {&#10;            @Override&#10;            protected void updateItem(T item, boolean empty) {&#10;                super.updateItem(item, empty);&#10;                setText(empty || item == null ? null : labelProvider.apply(item));&#10;            }&#10;        });&#10;        comboBox.setButtonCell(new ListCell&lt;&gt;() {&#10;            @Override&#10;            protected void updateItem(T item, boolean empty) {&#10;                super.updateItem(item, empty);&#10;                setText(empty || item == null ? null : labelProvider.apply(item));&#10;            }&#10;        });&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/TallerController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/hangar/ui/controller/TallerController.java" />
              <option name="originalContent" value="package com.example.hangar.ui.controller;&#10;&#10;import com.example.hangar.model.Hangar;&#10;import com.example.hangar.model.Taller;&#10;import com.example.hangar.service.HangarService;&#10;import com.example.hangar.service.TallerService;&#10;import javafx.beans.property.SimpleIntegerProperty;&#10;import javafx.beans.property.SimpleStringProperty;&#10;import javafx.collections.FXCollections;&#10;import javafx.collections.ObservableList;&#10;import javafx.collections.transformation.FilteredList;&#10;import javafx.fxml.FXML;&#10;import javafx.scene.control.Alert;&#10;import javafx.scene.control.ComboBox;&#10;import javafx.scene.control.ListCell;&#10;import javafx.scene.control.TableColumn;&#10;import javafx.scene.control.TableView;&#10;import javafx.scene.control.TextField;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#10;import org.springframework.stereotype.Component;&#10;&#10;import java.util.List;&#10;&#10;@Component&#10;public class TallerController {&#10;&#10;    private final TallerService tallerService;&#10;    private final HangarService hangarService;&#10;    private final ObservableList&lt;Taller&gt; talleres = FXCollections.observableArrayList();&#10;    private final FilteredList&lt;Taller&gt; filteredTalleres = new FilteredList&lt;&gt;(talleres, taller -&gt; true);&#10;    private final ObservableList&lt;Hangar&gt; hangares = FXCollections.observableArrayList();&#10;&#10;    public TallerController(TallerService tallerService, HangarService hangarService) {&#10;        this.tallerService = tallerService;&#10;        this.hangarService = hangarService;&#10;    }&#10;&#10;    @FXML&#10;    private TableView&lt;Taller&gt; tallerTable;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Taller, Long&gt; idColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Taller, String&gt; nombreColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Taller, String&gt; especialidadColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Taller, String&gt; hangarColumn;&#10;&#10;    @FXML&#10;    private TableColumn&lt;Taller, Number&gt; reportesColumn;&#10;&#10;    @FXML&#10;    private TextField nombreField;&#10;&#10;    @FXML&#10;    private TextField especialidadField;&#10;&#10;    @FXML&#10;    private ComboBox&lt;Hangar&gt; hangarCombo;&#10;&#10;    @FXML&#10;    private TextField searchField;&#10;&#10;    @FXML&#10;    public void initialize() {&#10;        if (tallerTable != null) {&#10;            idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#10;            nombreColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nombre&quot;));&#10;            especialidadColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;especialidad&quot;));&#10;            hangarColumn.setCellValueFactory(data -&gt; new SimpleStringProperty(&#10;                    data.getValue().getHangar() != null ? data.getValue().getHangar().getCodigo() : &quot;&quot;));&#10;            reportesColumn.setCellValueFactory(data -&gt; new SimpleIntegerProperty(&#10;                    data.getValue().getReportes() != null ? data.getValue().getReportes().size() : 0));&#10;            talleres.setAll(tallerService.findAll());&#10;            tallerTable.setItems(filteredTalleres);&#10;            tallerTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#10;        }&#10;&#10;        populateHangarCombo();&#10;    }&#10;&#10;    @FXML&#10;    private void onGuardar() {&#10;        if (!isFormValid()) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;El nombre del taller es obligatorio.&quot;);&#10;            return;&#10;        }&#10;        Taller selected = tallerTable.getSelectionModel().getSelectedItem();&#10;        Taller taller = selected != null ? tallerService.findById(selected.getId()) : new Taller();&#10;        taller.setNombre(nombreField.getText().trim());&#10;        taller.setEspecialidad(especialidadField.getText() != null ? especialidadField.getText().trim() : null);&#10;        taller.setHangar(hangarCombo.getValue());&#10;        tallerService.save(taller);&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;El taller ha sido guardado correctamente.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onEliminar() {&#10;        Taller selected = tallerTable.getSelectionModel().getSelectedItem();&#10;        if (selected == null) {&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir un taller para eliminarlo.&quot;);&#10;            return;&#10;        }&#10;        tallerService.delete(selected.getId());&#10;        refreshTable();&#10;        clearForm();&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;El taller seleccionado fue eliminado.&quot;);&#10;    }&#10;&#10;    @FXML&#10;    private void onLimpiar() {&#10;        clearForm();&#10;        if (tallerTable != null) {&#10;            tallerTable.getSelectionModel().clearSelection();&#10;        }&#10;        if (hangarCombo != null) {&#10;            hangarCombo.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    @FXML&#10;    private void onBuscar() {&#10;        if (searchField == null) {&#10;            return;&#10;        }&#10;        String term = searchField.getText();&#10;        if (term == null || term.isBlank()) {&#10;            filteredTalleres.setPredicate(taller -&gt; true);&#10;            return;&#10;        }&#10;        String normalized = term.trim().toLowerCase();&#10;        filteredTalleres.setPredicate(taller -&gt; {&#10;            if (taller == null) {&#10;                return false;&#10;            }&#10;            boolean matchNombre = taller.getNombre() != null &amp;&amp; taller.getNombre().toLowerCase().contains(normalized);&#10;            boolean matchEspecialidad = taller.getEspecialidad() != null &amp;&amp; taller.getEspecialidad().toLowerCase().contains(normalized);&#10;            return matchNombre || matchEspecialidad;&#10;        });&#10;    }&#10;&#10;    private boolean isFormValid() {&#10;        return nombreField != null &amp;&amp; !nombreField.getText().isBlank()&#10;                &amp;&amp; hangarCombo != null &amp;&amp; hangarCombo.getValue() != null;&#10;    }&#10;&#10;    private void refreshTable() {&#10;        talleres.setAll(tallerService.findAll());&#10;        tallerTable.refresh();&#10;        onBuscar();&#10;    }&#10;&#10;    private void fillForm(Taller taller) {&#10;        if (taller == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        nombreField.setText(taller.getNombre());&#10;        especialidadField.setText(taller.getEspecialidad());&#10;        if (hangarCombo != null) {&#10;            hangarCombo.getSelectionModel().select(taller.getHangar());&#10;        }&#10;    }&#10;&#10;    private void clearForm() {&#10;        if (nombreField != null) {&#10;            nombreField.clear();&#10;        }&#10;        if (especialidadField != null) {&#10;            especialidadField.clear();&#10;        }&#10;        if (hangarCombo != null) {&#10;            hangarCombo.getSelectionModel().clearSelection();&#10;        }&#10;    }&#10;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#10;        Alert alert = new Alert(type);&#10;        alert.setTitle(title);&#10;        alert.setHeaderText(null);&#10;        alert.setContentText(message);&#10;        alert.showAndWait();&#10;    }&#10;&#10;    private void populateHangarCombo() {&#10;        if (hangarCombo == null) {&#10;            return;&#10;        }&#10;        List&lt;Hangar&gt; allHangares = hangarService.findAll();&#10;        hangares.setAll(allHangares);&#10;        hangarCombo.setItems(hangares);&#10;        hangarCombo.setCellFactory(listView -&gt; new ListCell&lt;&gt;() {&#10;            @Override&#10;            protected void updateItem(Hangar item, boolean empty) {&#10;                super.updateItem(item, empty);&#10;                setText(empty || item == null ? null : item.getCodigo());&#10;            }&#10;        });&#10;        hangarCombo.setButtonCell(new ListCell&lt;&gt;() {&#10;            @Override&#10;            protected void updateItem(Hangar item, boolean empty) {&#10;                super.updateItem(item, empty);&#10;                setText(empty || item == null ? null : item.getCodigo());&#10;            }&#10;        });&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.hangar.ui.controller;&#13;&#10;&#13;&#10;import com.example.hangar.model.Hangar;&#13;&#10;import com.example.hangar.model.Taller;&#13;&#10;import com.example.hangar.service.HangarService;&#13;&#10;import com.example.hangar.service.TallerService;&#13;&#10;import javafx.beans.property.SimpleIntegerProperty;&#13;&#10;import javafx.beans.property.SimpleStringProperty;&#13;&#10;import javafx.collections.FXCollections;&#13;&#10;import javafx.collections.ObservableList;&#13;&#10;import javafx.collections.transformation.FilteredList;&#13;&#10;import javafx.fxml.FXML;&#13;&#10;import javafx.scene.control.Alert;&#13;&#10;import javafx.scene.control.ComboBox;&#13;&#10;import javafx.scene.control.ListCell;&#13;&#10;import javafx.scene.control.TableColumn;&#13;&#10;import javafx.scene.control.TableView;&#13;&#10;import javafx.scene.control.TextField;&#13;&#10;import javafx.scene.control.cell.PropertyValueFactory;&#13;&#10;import org.springframework.stereotype.Component;&#13;&#10;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;@Component&#13;&#10;public class TallerController {&#13;&#10;&#13;&#10;    private final TallerService tallerService;&#13;&#10;    private final HangarService hangarService;&#13;&#10;    private final ObservableList&lt;Taller&gt; talleres = FXCollections.observableArrayList();&#13;&#10;    private final FilteredList&lt;Taller&gt; filteredTalleres = new FilteredList&lt;&gt;(talleres, taller -&gt; true);&#13;&#10;    private final ObservableList&lt;Hangar&gt; hangares = FXCollections.observableArrayList();&#13;&#10;&#13;&#10;    public TallerController(TallerService tallerService, HangarService hangarService) {&#13;&#10;        this.tallerService = tallerService;&#13;&#10;        this.hangarService = hangarService;&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableView&lt;Taller&gt; tallerTable;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Taller, Long&gt; idColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Taller, String&gt; nombreColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Taller, String&gt; especialidadColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Taller, String&gt; hangarColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TableColumn&lt;Taller, Number&gt; reportesColumn;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField nombreField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField especialidadField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private ComboBox&lt;Hangar&gt; hangarCombo;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private TextField searchField;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    public void initialize() {&#13;&#10;        if (tallerTable != null) {&#13;&#10;            idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#13;&#10;            nombreColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nombre&quot;));&#13;&#10;            especialidadColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;especialidad&quot;));&#13;&#10;            hangarColumn.setCellValueFactory(data -&gt; new SimpleStringProperty(&#13;&#10;                    data.getValue().getHangar() != null ? data.getValue().getHangar().getCodigo() : &quot;&quot;));&#13;&#10;            reportesColumn.setCellValueFactory(data -&gt; new SimpleIntegerProperty(&#13;&#10;                    data.getValue().getReportes() != null ? data.getValue().getReportes().size() : 0));&#13;&#10;            talleres.setAll(tallerService.findAll());&#13;&#10;            tallerTable.setItems(filteredTalleres);&#13;&#10;            tallerTable.getSelectionModel().selectedItemProperty().addListener((obs, oldSel, newSel) -&gt; fillForm(newSel));&#13;&#10;        }&#13;&#10;&#13;&#10;        populateHangarCombo();&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onGuardar() {&#13;&#10;        if (!isFormValid()) {&#13;&#10;            showAlert(Alert.AlertType.WARNING, &quot;Datos incompletos&quot;, &quot;El nombre del taller es obligatorio.&quot;);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        Taller selected = tallerTable.getSelectionModel().getSelectedItem();&#13;&#10;        Taller taller = selected != null ? tallerService.findById(selected.getId()) : new Taller();&#13;&#10;        taller.setNombre(nombreField.getText().trim());&#13;&#10;        taller.setEspecialidad(especialidadField.getText() != null ? especialidadField.getText().trim() : null);&#13;&#10;        taller.setHangar(hangarCombo.getValue());&#13;&#10;        tallerService.save(taller);&#13;&#10;        refreshTable();&#13;&#10;        clearForm();&#13;&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Éxito&quot;, &quot;El taller ha sido guardado correctamente.&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onEliminar() {&#13;&#10;        Taller selected = tallerTable.getSelectionModel().getSelectedItem();&#13;&#10;        if (selected == null) {&#13;&#10;            showAlert(Alert.AlertType.WARNING, &quot;Seleccione un registro&quot;, &quot;Debe elegir un taller para eliminarlo.&quot;);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        tallerService.delete(selected.getId());&#13;&#10;        refreshTable();&#13;&#10;        clearForm();&#13;&#10;        showAlert(Alert.AlertType.INFORMATION, &quot;Registro eliminado&quot;, &quot;El taller seleccionado fue eliminado.&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onLimpiar() {&#13;&#10;        clearForm();&#13;&#10;        if (tallerTable != null) {&#13;&#10;            tallerTable.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;        if (hangarCombo != null) {&#13;&#10;            hangarCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private void onBuscar() {&#13;&#10;        if (searchField == null) {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        String term = searchField.getText();&#13;&#10;        if (term == null || term.isBlank()) {&#13;&#10;            filteredTalleres.setPredicate(taller -&gt; true);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        String normalized = term.trim().toLowerCase();&#13;&#10;        filteredTalleres.setPredicate(taller -&gt; {&#13;&#10;            if (taller == null) {&#13;&#10;                return false;&#13;&#10;            }&#13;&#10;            boolean matchNombre = taller.getNombre() != null &amp;&amp; taller.getNombre().toLowerCase().contains(normalized);&#13;&#10;            boolean matchEspecialidad = taller.getEspecialidad() != null &amp;&amp; taller.getEspecialidad().toLowerCase().contains(normalized);&#13;&#10;            return matchNombre || matchEspecialidad;&#13;&#10;        });&#13;&#10;    }&#13;&#10;&#13;&#10;    private boolean isFormValid() {&#13;&#10;        return nombreField != null &amp;&amp; !nombreField.getText().isBlank()&#13;&#10;                &amp;&amp; hangarCombo != null &amp;&amp; hangarCombo.getValue() != null;&#13;&#10;    }&#13;&#10;&#13;&#10;    private void refreshTable() {&#13;&#10;        talleres.setAll(tallerService.findAll());&#13;&#10;        tallerTable.refresh();&#13;&#10;        onBuscar();&#13;&#10;    }&#13;&#10;&#13;&#10;    private void fillForm(Taller taller) {&#10;        if (taller == null) {&#10;            clearForm();&#10;            return;&#10;        }&#10;        nombreField.setText(taller.getNombre());&#10;        especialidadField.setText(taller.getEspecialidad());&#10;        if (hangarCombo != null &amp;&amp; taller.getHangar() != null) {&#10;            Hangar hangar = hangares.stream()&#10;                    .filter(h -&gt; h.getId().equals(taller.getHangar().getId()))&#10;                    .findFirst()&#10;                    .orElse(null);&#10;            hangarCombo.getSelectionModel().select(hangar);&#10;        }&#10;    }&#13;&#10;&#13;&#10;    private void clearForm() {&#13;&#10;        if (nombreField != null) {&#13;&#10;            nombreField.clear();&#13;&#10;        }&#13;&#10;        if (especialidadField != null) {&#13;&#10;            especialidadField.clear();&#13;&#10;        }&#13;&#10;        if (hangarCombo != null) {&#13;&#10;            hangarCombo.getSelectionModel().clearSelection();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void showAlert(Alert.AlertType type, String title, String message) {&#13;&#10;        Alert alert = new Alert(type);&#13;&#10;        alert.setTitle(title);&#13;&#10;        alert.setHeaderText(null);&#13;&#10;        alert.setContentText(message);&#13;&#10;        alert.showAndWait();&#13;&#10;    }&#13;&#10;&#13;&#10;    private void populateHangarCombo() {&#13;&#10;        if (hangarCombo == null) {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        List&lt;Hangar&gt; allHangares = hangarService.findAll();&#13;&#10;        hangares.setAll(allHangares);&#13;&#10;        hangarCombo.setItems(hangares);&#13;&#10;        hangarCombo.setCellFactory(listView -&gt; new ListCell&lt;&gt;() {&#13;&#10;            @Override&#13;&#10;            protected void updateItem(Hangar item, boolean empty) {&#13;&#10;                super.updateItem(item, empty);&#13;&#10;                setText(empty || item == null ? null : item.getCodigo());&#13;&#10;            }&#13;&#10;        });&#13;&#10;        hangarCombo.setButtonCell(new ListCell&lt;&gt;() {&#13;&#10;            @Override&#13;&#10;            protected void updateItem(Hangar item, boolean empty) {&#13;&#10;                super.updateItem(item, empty);&#13;&#10;                setText(empty || item == null ? null : item.getCodigo());&#13;&#10;            }&#13;&#10;        });&#13;&#10;    }&#13;&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/resources/fxml/main-view.fxml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/resources/fxml/main-view.fxml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;?import javafx.geometry.Insets?&gt;&#10;&lt;?import javafx.scene.control.Button?&gt;&#10;&lt;?import javafx.scene.control.Label?&gt;&#10;&lt;?import javafx.scene.layout.BorderPane?&gt;&#10;&lt;?import javafx.scene.layout.StackPane?&gt;&#10;&lt;?import javafx.scene.layout.VBox?&gt;&#10;&lt;BorderPane xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&#10;            fx:controller=&quot;com.example.hangar.ui.controller.MainController&quot;&gt;&#10;    &lt;left&gt;&#10;        &lt;VBox spacing=&quot;12&quot; BorderPane.alignment=&quot;CENTER&quot; styleClass=&quot;sidebar&quot;&gt;&#10;            &lt;padding&gt;&#10;                &lt;Insets top=&quot;16&quot; right=&quot;12&quot; bottom=&quot;16&quot; left=&quot;12&quot; /&gt;&#10;            &lt;/padding&gt;&#10;            &lt;Label text=&quot;Tablas disponibles&quot; styleClass=&quot;title&quot; /&gt;&#10;            &lt;Label text=&quot;Selecciona una tabla para gestionar sus registros&quot; wrapText=&quot;true&quot; /&gt;&#10;            &lt;Label text=&quot;Hangar&quot; styleClass=&quot;subtitle&quot; /&gt;&#10;            &lt;Button text=&quot;Hangares&quot; onAction=&quot;#showHangares&quot; /&gt;&#10;            &lt;Button text=&quot;Encargados&quot; onAction=&quot;#showEncargados&quot; /&gt;&#10;            &lt;Button text=&quot;Empresas&quot; onAction=&quot;#showEmpresas&quot; /&gt;&#10;            &lt;Button text=&quot;Naves&quot; onAction=&quot;#showNaves&quot; /&gt;&#10;            &lt;Button text=&quot;Personas&quot; onAction=&quot;#showPersonas&quot; /&gt;&#10;            &lt;Button text=&quot;Roles&quot; onAction=&quot;#showRoles&quot; /&gt;&#10;            &lt;Label text=&quot;Operaciones&quot; styleClass=&quot;subtitle&quot; /&gt;&#10;            &lt;Button text=&quot;Pilotos&quot; onAction=&quot;#showPilotos&quot; /&gt;&#10;            &lt;Button text=&quot;Talleres&quot; onAction=&quot;#showTalleres&quot; /&gt;&#10;            &lt;Button text=&quot;Tripulaciones&quot; onAction=&quot;#showTripulaciones&quot; /&gt;&#10;            &lt;Button text=&quot;Vuelos&quot; onAction=&quot;#showVuelos&quot; /&gt;&#10;            &lt;Button text=&quot;Reportes&quot; onAction=&quot;#showReportes&quot; /&gt;&#10;        &lt;/VBox&gt;&#10;    &lt;/left&gt;&#10;    &lt;center&gt;&#10;        &lt;StackPane fx:id=&quot;contentPane&quot;&gt;&#10;            &lt;children&gt;&#10;                &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;8&quot;&gt;&#10;                    &lt;Label fx:id=&quot;welcomeLabel&quot; styleClass=&quot;title&quot; text=&quot;Hangar&quot; /&gt;&#10;                    &lt;Label text=&quot;Usa el menú lateral para abrir las tablas de pilotos, talleres, tripulaciones o vuelos.&quot; wrapText=&quot;true&quot; /&gt;&#10;                    &lt;Label text=&quot;Cada módulo permite agregar, actualizar, eliminar y buscar registros desde la misma pantalla.&quot; wrapText=&quot;true&quot; /&gt;&#10;                &lt;/VBox&gt;&#10;            &lt;/children&gt;&#10;        &lt;/StackPane&gt;&#10;    &lt;/center&gt;&#10;&lt;/BorderPane&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#13;&#10;&lt;?import javafx.geometry.Insets?&gt;&#13;&#10;&lt;?import javafx.scene.control.Button?&gt;&#13;&#10;&lt;?import javafx.scene.control.Label?&gt;&#13;&#10;&lt;?import javafx.scene.layout.BorderPane?&gt;&#13;&#10;&lt;?import javafx.scene.layout.StackPane?&gt;&#13;&#10;&lt;?import javafx.scene.layout.VBox?&gt;&#13;&#10;&lt;BorderPane xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&#13;&#10;            fx:controller=&quot;com.example.hangar.ui.controller.MainController&quot;&gt;&#13;&#10;    &lt;left&gt;&#13;&#10;        &lt;VBox spacing=&quot;12&quot; BorderPane.alignment=&quot;CENTER&quot; styleClass=&quot;sidebar&quot;&gt;&#13;&#10;            &lt;padding&gt;&#13;&#10;                &lt;Insets top=&quot;16&quot; right=&quot;12&quot; bottom=&quot;16&quot; left=&quot;12&quot; /&gt;&#13;&#10;            &lt;/padding&gt;&#13;&#10;            &lt;Label text=&quot;Tablas disponibles&quot; styleClass=&quot;title&quot; /&gt;&#13;&#10;            &lt;Label text=&quot;Selecciona una tabla para gestionar sus registros&quot; wrapText=&quot;true&quot; /&gt;&#13;&#10;            &lt;Label text=&quot;Hangar&quot; styleClass=&quot;subtitle&quot; /&gt;&#13;&#10;            &lt;Button text=&quot;Hangares&quot; onAction=&quot;#showHangares&quot; /&gt;&#13;&#10;            &lt;Button text=&quot;Encargados&quot; onAction=&quot;#showEncargados&quot; /&gt;&#10;            &lt;Button text=&quot;Empresas&quot; onAction=&quot;#showEmpresas&quot; /&gt;&#10;            &lt;Button text=&quot;Modelos&quot; onAction=&quot;#showModelos&quot; /&gt;&#10;            &lt;Button text=&quot;Naves&quot; onAction=&quot;#showNaves&quot; /&gt;&#10;            &lt;Button text=&quot;Personas&quot; onAction=&quot;#showPersonas&quot; /&gt;&#13;&#10;            &lt;Button text=&quot;Roles&quot; onAction=&quot;#showRoles&quot; /&gt;&#13;&#10;            &lt;Label text=&quot;Operaciones&quot; styleClass=&quot;subtitle&quot; /&gt;&#13;&#10;            &lt;Button text=&quot;Pilotos&quot; onAction=&quot;#showPilotos&quot; /&gt;&#13;&#10;            &lt;Button text=&quot;Talleres&quot; onAction=&quot;#showTalleres&quot; /&gt;&#13;&#10;            &lt;Button text=&quot;Tripulaciones&quot; onAction=&quot;#showTripulaciones&quot; /&gt;&#13;&#10;            &lt;Button text=&quot;Vuelos&quot; onAction=&quot;#showVuelos&quot; /&gt;&#13;&#10;            &lt;Button text=&quot;Reportes&quot; onAction=&quot;#showReportes&quot; /&gt;&#13;&#10;        &lt;/VBox&gt;&#13;&#10;    &lt;/left&gt;&#13;&#10;    &lt;center&gt;&#13;&#10;        &lt;StackPane fx:id=&quot;contentPane&quot;&gt;&#13;&#10;            &lt;children&gt;&#13;&#10;                &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;8&quot;&gt;&#13;&#10;                    &lt;Label fx:id=&quot;welcomeLabel&quot; styleClass=&quot;title&quot; text=&quot;Hangar&quot; /&gt;&#13;&#10;                    &lt;Label text=&quot;Usa el menú lateral para abrir las tablas de pilotos, talleres, tripulaciones o vuelos.&quot; wrapText=&quot;true&quot; /&gt;&#13;&#10;                    &lt;Label text=&quot;Cada módulo permite agregar, actualizar, eliminar y buscar registros desde la misma pantalla.&quot; wrapText=&quot;true&quot; /&gt;&#13;&#10;                &lt;/VBox&gt;&#13;&#10;            &lt;/children&gt;&#13;&#10;        &lt;/StackPane&gt;&#13;&#10;    &lt;/center&gt;&#13;&#10;&lt;/BorderPane&gt;&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/resources/fxml/modelo-view.fxml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/resources/fxml/modelo-view.fxml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;?import javafx.geometry.Insets?&gt;&#10;&lt;?import javafx.scene.control.Button?&gt;&#10;&lt;?import javafx.scene.control.Label?&gt;&#10;&lt;?import javafx.scene.control.TableColumn?&gt;&#10;&lt;?import javafx.scene.control.TableView?&gt;&#10;&lt;?import javafx.scene.control.TextField?&gt;&#10;&lt;?import javafx.scene.layout.BorderPane?&gt;&#10;&lt;?import javafx.scene.layout.ColumnConstraints?&gt;&#10;&lt;?import javafx.scene.layout.GridPane?&gt;&#10;&lt;?import javafx.scene.layout.HBox?&gt;&#10;&lt;?import javafx.scene.layout.Priority?&gt;&#10;&lt;?import javafx.scene.layout.VBox?&gt;&#10;&lt;BorderPane xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&#10;            fx:controller=&quot;com.example.hangar.ui.controller.ModeloController&quot;&gt;&#10;    &lt;top&gt;&#10;        &lt;VBox spacing=&quot;12&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;&#10;            &lt;padding&gt;&#10;                &lt;Insets top=&quot;16&quot; right=&quot;16&quot; bottom=&quot;16&quot; left=&quot;16&quot; /&gt;&#10;            &lt;/padding&gt;&#10;            &lt;Label text=&quot;Gestión de modelos&quot; styleClass=&quot;title&quot; /&gt;&#10;            &lt;GridPane hgap=&quot;10&quot; vgap=&quot;8&quot;&gt;&#10;                &lt;columnConstraints&gt;&#10;                    &lt;ColumnConstraints halignment=&quot;RIGHT&quot; minWidth=&quot;120&quot; /&gt;&#10;                    &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot; percentWidth=&quot;70&quot; /&gt;&#10;                &lt;/columnConstraints&gt;&#10;                &lt;Label text=&quot;Nombre&quot; /&gt;&#10;                &lt;TextField fx:id=&quot;nombreField&quot; promptText=&quot;Nombre del modelo&quot;&#10;                           GridPane.columnIndex=&quot;1&quot; GridPane.hgrow=&quot;ALWAYS&quot; /&gt;&#10;&#10;                &lt;Label text=&quot;Fabricante&quot; GridPane.rowIndex=&quot;1&quot; /&gt;&#10;                &lt;TextField fx:id=&quot;fabricanteField&quot; promptText=&quot;Fabricante&quot;&#10;                           GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot; GridPane.hgrow=&quot;ALWAYS&quot; /&gt;&#10;&#10;                &lt;Label text=&quot;Capacidad&quot; GridPane.rowIndex=&quot;2&quot; /&gt;&#10;                &lt;TextField fx:id=&quot;capacidadField&quot; promptText=&quot;Capacidad de pasajeros&quot;&#10;                           GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;2&quot; GridPane.hgrow=&quot;ALWAYS&quot; /&gt;&#10;            &lt;/GridPane&gt;&#10;            &lt;HBox spacing=&quot;10&quot; alignment=&quot;CENTER_LEFT&quot;&gt;&#10;                &lt;Button text=&quot;Guardar / Actualizar&quot; onAction=&quot;#onGuardar&quot; /&gt;&#10;                &lt;Button text=&quot;Eliminar&quot; onAction=&quot;#onEliminar&quot; /&gt;&#10;                &lt;Button text=&quot;Limpiar&quot; onAction=&quot;#onLimpiar&quot; /&gt;&#10;            &lt;/HBox&gt;&#10;            &lt;HBox spacing=&quot;10&quot; alignment=&quot;CENTER_LEFT&quot;&gt;&#10;                &lt;TextField fx:id=&quot;searchField&quot;&#10;                           promptText=&quot;Buscar por nombre, fabricante, capacidad o cantidad de naves&quot;&#10;                           HBox.hgrow=&quot;ALWAYS&quot; /&gt;&#10;                &lt;Button text=&quot;Buscar&quot; onAction=&quot;#onBuscar&quot; /&gt;&#10;            &lt;/HBox&gt;&#10;        &lt;/VBox&gt;&#10;    &lt;/top&gt;&#10;    &lt;center&gt;&#10;        &lt;VBox spacing=&quot;8&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;&#10;            &lt;padding&gt;&#10;                &lt;Insets top=&quot;0&quot; right=&quot;16&quot; bottom=&quot;16&quot; left=&quot;16&quot; /&gt;&#10;            &lt;/padding&gt;&#10;            &lt;Label text=&quot;Modelos registrados&quot; styleClass=&quot;subtitle&quot; /&gt;&#10;            &lt;TableView fx:id=&quot;modeloTable&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;&#10;                &lt;columns&gt;&#10;                    &lt;TableColumn fx:id=&quot;idColumn&quot; text=&quot;ID&quot; prefWidth=&quot;80&quot; /&gt;&#10;                    &lt;TableColumn fx:id=&quot;nombreColumn&quot; text=&quot;Nombre&quot; prefWidth=&quot;200&quot; /&gt;&#10;                    &lt;TableColumn fx:id=&quot;fabricanteColumn&quot; text=&quot;Fabricante&quot; prefWidth=&quot;180&quot; /&gt;&#10;                    &lt;TableColumn fx:id=&quot;capacidadColumn&quot; text=&quot;Capacidad&quot; prefWidth=&quot;120&quot; /&gt;&#10;                    &lt;TableColumn fx:id=&quot;navesColumn&quot; text=&quot;# Naves&quot; prefWidth=&quot;120&quot; /&gt;&#10;                &lt;/columns&gt;&#10;                &lt;placeholder&gt;&#10;                    &lt;Label text=&quot;No hay modelos registrados. Utilice el formulario superior para agregar uno nuevo.&quot; /&gt;&#10;                &lt;/placeholder&gt;&#10;            &lt;/TableView&gt;&#10;        &lt;/VBox&gt;&#10;    &lt;/center&gt;&#10;&lt;/BorderPane&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/resources/fxml/reporte-view.fxml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/resources/fxml/reporte-view.fxml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;?import javafx.geometry.Insets?&gt;&#10;&lt;?import javafx.scene.control.Button?&gt;&#10;&lt;?import javafx.scene.control.ComboBox?&gt;&#10;&lt;?import javafx.scene.control.Label?&gt;&#10;&lt;?import javafx.scene.control.TableColumn?&gt;&#10;&lt;?import javafx.scene.control.TableView?&gt;&#10;&lt;?import javafx.scene.control.TextArea?&gt;&#10;&lt;?import javafx.scene.control.TextField?&gt;&#10;&lt;?import javafx.scene.layout.BorderPane?&gt;&#10;&lt;?import javafx.scene.layout.GridPane?&gt;&#10;&lt;?import javafx.scene.layout.HBox?&gt;&#10;&lt;?import javafx.scene.layout.Priority?&gt;&#10;&lt;?import javafx.scene.layout.VBox?&gt;&#10;&lt;BorderPane xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&#10;            fx:controller=&quot;com.example.hangar.ui.controller.ReporteController&quot;&gt;&#10;    &lt;top&gt;&#10;        &lt;VBox spacing=&quot;12&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;&#10;            &lt;padding&gt;&#10;                &lt;Insets top=&quot;16&quot; right=&quot;16&quot; bottom=&quot;16&quot; left=&quot;16&quot; /&gt;&#10;            &lt;/padding&gt;&#10;            &lt;Label text=&quot;Gestión de reportes&quot; styleClass=&quot;title&quot; /&gt;&#10;            &lt;GridPane hgap=&quot;10&quot; vgap=&quot;8&quot;&gt;&#10;                &lt;Label text=&quot;Título&quot; /&gt;&#10;                &lt;TextField fx:id=&quot;tituloField&quot; promptText=&quot;Título del reporte&quot; GridPane.columnIndex=&quot;1&quot; /&gt;&#10;&#10;                &lt;Label text=&quot;Descripción&quot; GridPane.rowIndex=&quot;1&quot; /&gt;&#10;                &lt;TextArea fx:id=&quot;descripcionArea&quot; promptText=&quot;Descripción detallada&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot; prefRowCount=&quot;3&quot; /&gt;&#10;&#10;                &lt;Label text=&quot;Taller&quot; GridPane.rowIndex=&quot;2&quot; /&gt;&#10;                &lt;ComboBox fx:id=&quot;tallerCombo&quot; promptText=&quot;Seleccione un taller&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;2&quot; /&gt;&#10;&#10;                &lt;Label text=&quot;Nave&quot; GridPane.rowIndex=&quot;3&quot; /&gt;&#10;                &lt;ComboBox fx:id=&quot;naveCombo&quot; promptText=&quot;Seleccione una nave&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;3&quot; /&gt;&#10;            &lt;/GridPane&gt;&#10;            &lt;HBox spacing=&quot;10&quot;&gt;&#10;                &lt;Button text=&quot;Guardar / Actualizar&quot; onAction=&quot;#onGuardar&quot; /&gt;&#10;                &lt;Button text=&quot;Eliminar&quot; onAction=&quot;#onEliminar&quot; /&gt;&#10;                &lt;Button text=&quot;Limpiar&quot; onAction=&quot;#onLimpiar&quot; /&gt;&#10;            &lt;/HBox&gt;&#10;            &lt;HBox spacing=&quot;10&quot; alignment=&quot;CENTER_LEFT&quot;&gt;&#10;                &lt;TextField fx:id=&quot;searchField&quot; promptText=&quot;Buscar por título o descripción&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;&#10;                &lt;Button text=&quot;Buscar&quot; onAction=&quot;#onBuscar&quot; /&gt;&#10;            &lt;/HBox&gt;&#10;        &lt;/VBox&gt;&#10;    &lt;/top&gt;&#10;    &lt;center&gt;&#10;        &lt;TableView fx:id=&quot;reporteTable&quot;&gt;&#10;            &lt;columns&gt;&#10;                &lt;TableColumn fx:id=&quot;idColumn&quot; text=&quot;ID&quot; prefWidth=&quot;80&quot; /&gt;&#10;                &lt;TableColumn fx:id=&quot;tituloColumn&quot; text=&quot;Título&quot; prefWidth=&quot;200&quot; /&gt;&#10;                &lt;TableColumn fx:id=&quot;descripcionColumn&quot; text=&quot;Descripción&quot; prefWidth=&quot;250&quot; /&gt;&#10;                &lt;TableColumn fx:id=&quot;fechaColumn&quot; text=&quot;Fecha Registro&quot; prefWidth=&quot;150&quot; /&gt;&#10;                &lt;TableColumn fx:id=&quot;tallerColumn&quot; text=&quot;Taller&quot; prefWidth=&quot;150&quot; /&gt;&#10;                &lt;TableColumn fx:id=&quot;naveColumn&quot; text=&quot;Nave&quot; prefWidth=&quot;150&quot; /&gt;&#10;            &lt;/columns&gt;&#10;        &lt;/TableView&gt;&#10;    &lt;/center&gt;&#10;&lt;/BorderPane&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>